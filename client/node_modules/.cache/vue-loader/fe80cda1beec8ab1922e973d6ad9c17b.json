{"remainingRequest":"/Users/tlemoigne/Desktop/Pluriel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tlemoigne/Desktop/Pluriel/client/src/views/room.vue?vue&type=style&index=0&id=dd4e2b16&scoped=true&lang=scss&","dependencies":[{"path":"/Users/tlemoigne/Desktop/Pluriel/client/src/views/room.vue","mtime":1559148640798},{"path":"/Users/tlemoigne/Desktop/Pluriel/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/tlemoigne/Desktop/Pluriel/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/tlemoigne/Desktop/Pluriel/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/tlemoigne/Desktop/Pluriel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tlemoigne/Desktop/Pluriel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import \"@/config/styles.scss\";\n\n.roomUI {\n    text-align: center;\n    color: $white;\n    font-size: 24px;\n    font-weight: lighter;\n\n    .description {\n        margin: 0 auto;\n        max-width: 580px;\n    }\n\n    .dispositif {\n        position: relative;\n        top: 50%;\n        transform: translateY(-50%);\n\n        .illustration {\n            margin-top: 80px;\n\n            .desktop {\n                display: flex;\n                flex-direction: column;\n\n                .verticalLine {\n                    margin-top: 30px;\n                }\n            }\n\n            .mobiles {\n                margin-top: -30px;\n                display: flex;\n                justify-content: center;\n\n                .circle {\n                    margin: 0 10px;\n                }\n\n                .mobile {\n                    margin: 0 20px;\n                }\n            }\n        }\n    }\n\n    .connexion {\n        width: 100%;\n        height: 100%;\n        display: none;\n        opacity: 0;\n        position: absolute;\n        top: 0;\n        left: 0;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        background: rgba(0, 0, 0, 0.35);\n\n        .roomId {\n            font-size: 100px;\n            letter-spacing: 80px;\n            text-indent: 80px;\n            font-weight: 300;\n            margin-top: 20px;\n            margin-bottom: 50px;\n            text-align: center;\n        }\n\n        .playersLeft {\n            font-size: 18px;\n            margin-bottom: 30px;\n        }\n\n        .mobilesWaiting {\n            display: flex;\n            .circle {\n                margin: 0 10px;\n                opacity: 0.5;\n\n                &.active {\n                    opacity: 1;\n                    @extend .svgGlow;\n                }\n            }\n\n            > div {\n                p {\n                    opacity: 0;\n                    margin: 0;\n                    margin-top: 10px;\n                    font-size: 15px;\n                }\n            }\n        }\n    }\n}\n",{"version":3,"sources":["room.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"room.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"roomUI\">\n        <!-- TUTO DISPOSITIF -->\n        <div\n            class=\"dispositif\"\n            ref=\"dispositif\"\n            v-show=\"roomState.currentStep.name === 'room_waiting'\"\n        >\n            <div class=\"description textGlow\">\n                Vous devrez être\n                <b>2 joueurs</b> ayant chacun un smartphone pour réaliser l’expérience.\n            </div>\n\n            <div class=\"illustration\">\n                <div class=\"desktop\">\n                    <img class=\"svgGlow\" src=\"/assets/img/icon-desktop.svg\" alt>\n                    <img class=\"svgGlow verticalLine\" src=\"/assets/img/vertical-line.svg\" alt>\n                </div>\n\n                <div class=\"mobiles\">\n                    <img class=\"svgGlow mobile\" src=\"/assets/img/icon-mobile.svg\" alt>\n                    <img class=\"svgGlow circle\" src=\"/assets/img/circle.svg\" alt>\n                    <img class=\"svgGlow horizontalLine\" src=\"/assets/img/horizontal-line.svg\" alt>\n                    <img class=\"svgGlow circle\" src=\"/assets/img/circle.svg\" alt>\n                    <img class=\"svgGlow mobile\" src=\"/assets/img/icon-mobile.svg\" alt>\n                </div>\n            </div>\n        </div>\n\n        <!-- CONNEXION ROOM -->\n        <div ref=\"connexion\" class=\"connexion\">\n            <div v-if=\"roomState.currentStep.name === 'room_waiting'\">\n                <div class=\"description textGlow\">\n                    Connectez-vous grâce à votre mobile sur\n                    <b>pluriel-xp.com</b>, et rentrez ce code :\n                </div>\n\n                <div class=\"roomId textGlow\">{{ roomId }}</div>\n                <div class=\"playersLeft\">En attente de {{2 - mobileUsersCount}} joueurs...</div>\n            </div>\n\n            <div class=\"mobilesWaiting\" v-if=\"roomState.currentStep.name === 'room_waiting'\">\n                <div>\n                    <PictoMobile class=\"mobile\" :isActive=\"mobileUsersCount > 0\"/>\n                    <p ref=\"player1ready\">Joueur 1 est prêt</p>\n                </div>\n\n                <img\n                    :class=\"mobileUsersCount > 0 ? 'active circle' : 'circle'\"\n                    src=\"/assets/img/circle.svg\"\n                    alt\n                >\n                <img class=\"svgGlow horizontalLine\" src=\"/assets/img/horizontal-line.svg\" alt>\n                <img\n                    :class=\"mobileUsersCount > 1 ? 'active circle' : 'circle'\"\n                    src=\"/assets/img/circle.svg\"\n                    alt\n                >\n\n                <div>\n                    <PictoMobile class=\"mobile\" :isActive=\"mobileUsersCount > 1\"/>\n                    <p ref=\"player2ready\">Joueur 2 est prêt</p>\n                </div>\n            </div>\n        </div>\n\n        <!--<button\n            class=\"bigTextButton\"\n            v-if=\"roomState.currentStep.name === 'room_ready'\"\n            @click=\"setRoomState({currentStep: { name:'NEXT' }})\"\n        >Let's go</button>-->\n    </div>\n</template>\n\n<script>\nimport { TweenMax, Power2 } from \"gsap/TweenMax\"\nimport PictoDesktop from \"../components/PictoDesktop\"\nimport PictoMobile from \"../components/PictoMobile\"\nimport socket from \"@/socket\"\n\nimport { bus } from \"@/main\"\n\nexport default {\n    name: \"room\",\n    components: {\n        PictoDesktop,\n        PictoMobile\n    },\n    props: {\n        roomId: String,\n        isMobile: Boolean,\n        users: Array,\n        roomState: Object\n    },\n    data() {\n        return {\n            isDebugMode: true\n        }\n    },\n    computed: {\n        desktopUsersCount() {\n            return this.$props.users.filter(user => !user.isMobile).length\n        },\n        mobileUsersCount() {\n            const mobileCount = this.$props.users.filter(user => user.isMobile)\n                .length\n            return mobileCount\n        }\n    },\n    mounted: function() {\n        if (this.isMobile) {\n            var noSleep = new NoSleep()\n            noSleep.enable() // keep the screen on!\n        }\n\n        // TODO: use CSS and the current step name instead of GSAP?\n        const tl = new TimelineLite()\n\n        tl.to(this.$refs.dispositif, 2, {\n            opacity: 0,\n            delay: 0.5,\n            ease: Power2.easeIn,\n            onComplete: () => {\n                if (this.$refs.dispositif) {\n                    this.$refs.dispositif.style.display = \"none\"\n                    this.$refs.connexion.style.display = \"flex\"\n                }\n            }\n        })\n\n        tl.to(this.$refs.connexion, 1, { opacity: 1, ease: Power2.easeOut })\n\n        // Socket listeners\n        socket.on(\"playerOneReady\", () => {\n            console.log(\"the player one is ready\")\n            TweenMax.to(this.$refs.player1ready, 1, {\n                opacity: 1,\n                ease: Power2.easeOut\n            })\n        })\n\n        socket.on(\"playerTwoReady\", () => {\n            console.log(\"the player two is ready\")\n            TweenMax.to(this.$refs.player2ready, 1, {\n                opacity: 1,\n                ease: Power2.easeOut\n            })\n        })\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/config/styles.scss\";\n\n.roomUI {\n    text-align: center;\n    color: $white;\n    font-size: 24px;\n    font-weight: lighter;\n\n    .description {\n        margin: 0 auto;\n        max-width: 580px;\n    }\n\n    .dispositif {\n        position: relative;\n        top: 50%;\n        transform: translateY(-50%);\n\n        .illustration {\n            margin-top: 80px;\n\n            .desktop {\n                display: flex;\n                flex-direction: column;\n\n                .verticalLine {\n                    margin-top: 30px;\n                }\n            }\n\n            .mobiles {\n                margin-top: -30px;\n                display: flex;\n                justify-content: center;\n\n                .circle {\n                    margin: 0 10px;\n                }\n\n                .mobile {\n                    margin: 0 20px;\n                }\n            }\n        }\n    }\n\n    .connexion {\n        width: 100%;\n        height: 100%;\n        display: none;\n        opacity: 0;\n        position: absolute;\n        top: 0;\n        left: 0;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        background: rgba(0, 0, 0, 0.35);\n\n        .roomId {\n            font-size: 100px;\n            letter-spacing: 80px;\n            text-indent: 80px;\n            font-weight: 300;\n            margin-top: 20px;\n            margin-bottom: 50px;\n            text-align: center;\n        }\n\n        .playersLeft {\n            font-size: 18px;\n            margin-bottom: 30px;\n        }\n\n        .mobilesWaiting {\n            display: flex;\n            .circle {\n                margin: 0 10px;\n                opacity: 0.5;\n\n                &.active {\n                    opacity: 1;\n                    @extend .svgGlow;\n                }\n            }\n\n            > div {\n                p {\n                    opacity: 0;\n                    margin: 0;\n                    margin-top: 10px;\n                    font-size: 15px;\n                }\n            }\n        }\n    }\n}\n</style>\n"]}]}