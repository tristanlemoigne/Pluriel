{"remainingRequest":"/Users/tlemoigne/Desktop/Pluriel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tlemoigne/Desktop/Pluriel/client/src/views/selectionPersos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tlemoigne/Desktop/Pluriel/client/src/views/selectionPersos.vue","mtime":1559148640798},{"path":"/Users/tlemoigne/Desktop/Pluriel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tlemoigne/Desktop/Pluriel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { TweenMax, Power2 } from \"gsap/TweenMax\"\nimport socket from \"@/socket\"\nimport { bus } from \"@/main\"\nimport { threeBus } from \"@/main\"\n\nexport default {\n    name: \"room\",\n    components: {},\n    props: {\n        isMobile: Boolean,\n        roomState: Object\n    },\n    data: () => ({\n        lamarPlayer: undefined,\n        zanitPlayer: undefined\n    }),\n    computed: {},\n    watch: {\n        \"roomState.lamar\": {\n            handler: function(currentLamar, oldLamar) {\n                if (currentLamar !== oldLamar && currentLamar !== undefined) {\n                    threeBus.$emit(\"animate perso\", \"lamar\")\n                    this.$data.lamarPlayer =\n                        currentLamar === this.$props.roomState.player1\n                            ? \"Joueur 1\"\n                            : \"Joueur 2\"\n                    this.$refs.player1.style.opacity = 1\n                }\n            },\n            deep: true\n        },\n        \"roomState.zanit\": {\n            handler: function(currentZanit, oldZanit) {\n                if (currentZanit !== oldZanit && currentZanit !== undefined) {\n                    threeBus.$emit(\"animate perso\", \"zanit\")\n                    this.$data.zanitPlayer =\n                        currentZanit === this.$props.roomState.player1\n                            ? \"Joueur 1\"\n                            : \"Joueur 2\"\n                    this.$refs.player2.style.opacity = 1\n                }\n            },\n            deep: true\n        },\n        \"roomState\": {\n            handler: function(currentRoomState, oldRoomState) {\n                if (currentRoomState.currentStep.name === \"selection_perso\" && currentRoomState.zanit !== undefined && currentRoomState.lamar !== undefined) {\n                    console.log(\"NEXTT\", currentRoomState)\n                    this.setRoomState({currentStep: {name:'dioramas'}})\n                }\n            },\n            deep: true\n        }\n    },\n    methods: {\n        choosePerso(e) {\n            const perso = e.target.innerText\n\n            if (perso === \"LAMAR\") {\n                e.target.style.opacity = \"0.2\"\n                this.setRoomState({ lamar: socket.id })\n            } else if (perso === \"ZANIT\") {\n                e.target.style.opacity = \"0.2\"\n                this.setRoomState({ zanit: socket.id })\n            }\n        },\n\n        setRoomState(stateObj) {\n            bus.$emit(\"setRoomState\", stateObj)\n        }\n    }\n}\n",{"version":3,"sources":["selectionPersos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"selectionPersos.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"selectionPerso\" v-show=\"roomState.currentStep.name === 'selection_perso'\">\n        <!-- CHOIX DES PERSOS DESKTOP-->\n        <div v-if=\"!isMobile\">\n            <h2 class=\"textGlow\">Qui incarnerez-vous ?</h2>\n\n            <div class=\"textGlow\">Sélectionnez un personnage sur votre téléphone</div>\n\n            <div class=\"playerContainer\">\n                <p ref=\"player1\" class=\"textGlow\">{{lamarPlayer}} est Lamar</p>\n                <p></p>\n                <p ref=\"player2\" class=\"textGlow\">{{zanitPlayer}} est Zanit</p>\n            </div>\n        </div>\n\n        <!-- CHOIX DES PERSOS MOBILE-->\n        <div v-if=\"isMobile\">\n            <button v-if=\"isMobile\" @click.once=\"choosePerso\">LAMAR</button>\n\n            <button v-if=\"isMobile\" @click.once=\"choosePerso\">ZANIT</button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { TweenMax, Power2 } from \"gsap/TweenMax\"\nimport socket from \"@/socket\"\nimport { bus } from \"@/main\"\nimport { threeBus } from \"@/main\"\n\nexport default {\n    name: \"room\",\n    components: {},\n    props: {\n        isMobile: Boolean,\n        roomState: Object\n    },\n    data: () => ({\n        lamarPlayer: undefined,\n        zanitPlayer: undefined\n    }),\n    computed: {},\n    watch: {\n        \"roomState.lamar\": {\n            handler: function(currentLamar, oldLamar) {\n                if (currentLamar !== oldLamar && currentLamar !== undefined) {\n                    threeBus.$emit(\"animate perso\", \"lamar\")\n                    this.$data.lamarPlayer =\n                        currentLamar === this.$props.roomState.player1\n                            ? \"Joueur 1\"\n                            : \"Joueur 2\"\n                    this.$refs.player1.style.opacity = 1\n                }\n            },\n            deep: true\n        },\n        \"roomState.zanit\": {\n            handler: function(currentZanit, oldZanit) {\n                if (currentZanit !== oldZanit && currentZanit !== undefined) {\n                    threeBus.$emit(\"animate perso\", \"zanit\")\n                    this.$data.zanitPlayer =\n                        currentZanit === this.$props.roomState.player1\n                            ? \"Joueur 1\"\n                            : \"Joueur 2\"\n                    this.$refs.player2.style.opacity = 1\n                }\n            },\n            deep: true\n        },\n        \"roomState\": {\n            handler: function(currentRoomState, oldRoomState) {\n                if (currentRoomState.currentStep.name === \"selection_perso\" && currentRoomState.zanit !== undefined && currentRoomState.lamar !== undefined) {\n                    console.log(\"NEXTT\", currentRoomState)\n                    this.setRoomState({currentStep: {name:'dioramas'}})\n                }\n            },\n            deep: true\n        }\n    },\n    methods: {\n        choosePerso(e) {\n            const perso = e.target.innerText\n\n            if (perso === \"LAMAR\") {\n                e.target.style.opacity = \"0.2\"\n                this.setRoomState({ lamar: socket.id })\n            } else if (perso === \"ZANIT\") {\n                e.target.style.opacity = \"0.2\"\n                this.setRoomState({ zanit: socket.id })\n            }\n        },\n\n        setRoomState(stateObj) {\n            bus.$emit(\"setRoomState\", stateObj)\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"@/config/styles.scss\";\n\n.selectionPerso {\n    color: $white;\n    text-align: center;\n\n    button {\n        border: solid 1px red;\n        background-color: $black;\n        color: $white;\n        display: block;\n        margin: 50px auto;\n        padding: 25px 50px;\n    }\n\n    .playerContainer {\n        display: flex;\n        width: 100%;\n        justify-content: space-around;\n        max-width: 1400px;\n        margin: 70px auto 0;\n\n        p {\n            opacity: 0;\n            font-style: italic;\n            font-size: 18px;\n            transition: opacity 1s ease;\n        }\n    }\n}\n</style>\n"]}]}