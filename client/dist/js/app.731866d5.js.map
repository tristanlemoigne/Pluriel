{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/selectionPersos.vue?5223","webpack:///./src/config/styles.scss?3d56","webpack:///./src/components/Logo.vue?690e","webpack:///./src/components/ThreeContainer/ThreeContainerMob.vue?fd60","webpack:///./src/views/dioramas.vue?a4e0","webpack:///./src/App.vue?0ae3","webpack:///./src/utils/index.js","webpack:///./src/components/DebugUIHelpers.vue?6276","webpack:///src/components/DebugUIHelpers.vue","webpack:///./src/components/DebugUIHelpers.vue?8c72","webpack:///./src/components/DebugUIHelpers.vue","webpack:///./src/components/ThreeContainer/ThreeContainerDsk.vue?de04","webpack:///./src/threejs/AssetsLoader.js","webpack:///./src/threejs/postprocessing/Pass.js","webpack:///./src/threejs/shaders/LuminosityHighPassShader.js","webpack:///./src/threejs/postprocessing/UnrealBloomPass.js","webpack:///./src/threejs/CanvasRotator.js","webpack:///./src/threejs/postprocessing/CustomRenderer.js","webpack:///./src/threejs/CameraGroup.js","webpack:///./src/threejs/sceneEntities/Desktop/HomeDskSceneEntity.js","webpack:///./src/threejs/sceneEntities/Desktop/Trial1.js","webpack:///./src/threejs/helpers/index.js","webpack:///./src/threejs/SceneManager.js","webpack:///./src/threejs/ThreeEntryPointDsk.js","webpack:///src/components/ThreeContainer/ThreeContainerDsk.vue","webpack:///./src/components/ThreeContainer/ThreeContainerDsk.vue?5c85","webpack:///./src/components/ThreeContainer/ThreeContainerDsk.vue","webpack:///./src/components/ThreeContainer/ThreeContainerMob.vue?25f1","webpack:///./src/threejs/sceneEntities/Mobile/CrystalSceneEntity.js","webpack:///./src/threejs/sceneEntities/Mobile/HomeMobSceneEntity.js","webpack:///./src/threejs/SceneManagerMob.js","webpack:///./src/threejs/ThreeEntryPointMob.js","webpack:///src/components/ThreeContainer/ThreeContainerMob.vue","webpack:///./src/components/ThreeContainer/ThreeContainerMob.vue?1d21","webpack:///./src/components/ThreeContainer/ThreeContainerMob.vue","webpack:///src/App.vue","webpack:///./src/App.vue?338e","webpack:///./src/App.vue","webpack:///./src/views/home.vue?a63b","webpack:///./src/components/Logo.vue?e677","webpack:///src/components/Logo.vue","webpack:///./src/components/Logo.vue","webpack:///src/views/home.vue","webpack:///./src/views/home.vue","webpack:///./src/views/room.vue?704a","webpack:///./src/components/PictoDesktop.vue?3ce6","webpack:///src/components/PictoDesktop.vue","webpack:///./src/components/PictoDesktop.vue","webpack:///./src/components/PictoMobile.vue?295f","webpack:///./src/components/PictoMobile.vue","webpack:///src/views/room.vue","webpack:///./src/views/room.vue","webpack:///./src/views/selectionPersos.vue?5b65","webpack:///src/views/selectionPersos.vue","webpack:///./src/views/selectionPersos.vue?9ec2","webpack:///./src/views/selectionPersos.vue","webpack:///./src/views/dioramas.vue?f449","webpack:///src/views/dioramas.vue","webpack:///./src/views/dioramas.vue?7ca5","webpack:///./src/views/dioramas.vue","webpack:///./src/components/TrackerVideo.vue?c56d","webpack:///./src/threejs/sceneEntities/tracker/Tracker.js","webpack:///src/components/TrackerVideo.vue","webpack:///./src/components/TrackerVideo.vue?cf26","webpack:///./src/components/TrackerVideo.vue","webpack:///src/views/tutoInteractif.vue","webpack:///./src/views/tutoInteractif.vue","webpack:///./src/views/experience.vue?db8c","webpack:///src/views/experience.vue","webpack:///./src/views/experience.vue","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./src/App.vue?e056","webpack:///./src/App.vue?e612","webpack:///./src/views/room.vue?53fc","webpack:///./src/views/room.vue?247e","webpack:///./src/views/tutoInteractif.vue?373e","webpack:///./src/components/ThreeContainer/ThreeContainerDsk.vue?254c","webpack:///./src/socket.js","webpack:///./src/components/PictoMobile.vue?78f4","webpack:///../server/experienceSteps.js","webpack:///./src/components/DebugUIHelpers.vue?4cdd","webpack:///./src/components/TrackerVideo.vue?7118","webpack:///./src/components/DebugUIHelpers.vue?df39","webpack:///./src/components/ThreeContainer/ThreeContainerMob.vue?824a","webpack:///./src/components/PictoDesktop.vue?380c","webpack:///./src/views/experience.vue?f09e","webpack:///./src/views/home.vue?865a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selectionPersos_vue_vue_type_style_index_0_id_09461592_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selectionPersos_vue_vue_type_style_index_0_id_09461592_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","white","black","grey","cyan","pink","blue","red","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Logo_vue_vue_type_style_index_0_id_87836ad8_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Logo_vue_vue_type_style_index_0_id_87836ad8_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ThreeContainerMob_vue_vue_type_style_index_0_id_4a9e45bc_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ThreeContainerMob_vue_vue_type_style_index_0_id_4a9e45bc_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_dioramas_vue_vue_type_style_index_0_id_12351b48_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_dioramas_vue_vue_type_style_index_0_id_12351b48_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_0ab8aad2_render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","isMobile","roomId","roomState","users","on","createRoom","userCreateRoom","joinRoom","userJoinRoom","href","_v","class","isAudioActive","click","$event","toggleAudio","_e","needsCamera","character","myCharacter","staticRenderFns","checkIfMobile","check","a","test","substr","navigator","userAgent","vendor","opera","Promise","w","RTCPeerConnection","mozRTCPeerConnection","webkitRTCPeerConnection","iceServers","b","createDataChannel","createOffer","setLocalDescription","onicecandidate","candidate","match","forEach","e","DebugUIHelpersvue_type_template_id_3e7ac98c_scoped_true_render","setRoomState","currentStep","logTrial1Victorious","_s","desktopUsersCount","mobileUsersCount","DebugUIHelpersvue_type_template_id_3e7ac98c_scoped_true_staticRenderFns","DebugUIHelpersvue_type_script_lang_js_","components","props","String","Boolean","Array","isDebugMode","computed","[object Object]","$props","filter","user","methods","stateObj","bus","$emit","components_DebugUIHelpersvue_type_script_lang_js_","component","componentNormalizer","DebugUIHelpers","ThreeContainerDskvue_type_template_id_e13846ec_scoped_true_render","ref","ThreeContainerDskvue_type_template_id_e13846ec_scoped_true_staticRenderFns","FBXLoader","AssetsLoader","assets","_promises","_GLTFLoader","three_gltf_loader_default","_OBJLoader","three_obj_mtl_loader","_FBXLoader","_TextureLoader","three_module","_SVGLoader","three_svg_loader_default","load","path","childArr","extension","indexOf","_loadGLTF","_loadOBJ","_loadFBX","_loadTexture","_loadSVG","resolve","reject","gltf","child","index","obj","fbx","texture","q","svg","group","paths","material","color","side","shapes","toShapes","shape","geometry","mesh","add","onComplete","callback","all","then","catch","error","console","threejs_AssetsLoader","Pass","uuid","generateUUID","type","enabled","needsSwap","clear","renderToScreen","copyToScreen","RGBALinear","minFilter","magFilter","format","RGBLinear","RGBANearest","createQuadScene","camera","scene","quad","frustumCulled","setSize","width","height","render","renderer","writeBuffer","readBuffer","delta","maskActive","dispose","toJSON","meta","postprocessing_Pass","LuminosityHighPassShader","shaderID","uniforms","tDiffuse","luminosityThreshold","smoothWidth","defaultColor","defaultOpacity","vertexShader","join","fragmentShader","shaders_LuminosityHighPassShader","UnrealBloomPass","resolution","strength","radius","threshold","undefined","x","y","clearColor","pars","renderTargetsHorizontal","renderTargetsVertical","nMips","resx","Math","round","resy","renderTargetBright","generateMipmaps","renderTargetHorizonal","renderTargetVertical","highPassShader","highPassUniforms","clone","materialHighPassFilter","defines","separableBlurMaterials","kernelSizeArray","getSeperableBlurMaterial","compositeMaterial","getCompositeMaterial","needsUpdate","bloomFactors","bloomTintColors","dist","copyShader","copyUniforms","materialCopy","blending","depthTest","depthWrite","transparent","oldClearColor","oldClearAlpha","basic","assign","constructor","deltaTime","copy","getClearColor","getClearAlpha","oldAutoClear","autoClear","setClearColor","context","disable","STENCIL_TEST","map","setRenderTarget","inputRenderTarget","BlurDirectionX","BlurDirectionY","enable","kernelRadius","KERNEL_RADIUS","SIGMA","colorTexture","texSize","direction","NUM_MIPS","blurTexture1","blurTexture2","blurTexture3","blurTexture4","blurTexture5","dirtTexture","bloomStrength","bloomRadius","rotateCanvas","angle","canvas","style","transform","boundingX","innerWidth","abs","cos","innerHeight","sin","boundingY","customRenderer","aspect","updateProjectionMatrix","el","sliderPos","pageX","touches","pageY","rotateCSS","moveSlider","threejs_CanvasRotator","firstStep","buildRenderer","composer","buildComposer","scenes","isScissor","$on","canvasAngle","DPR","devicePixelRatio","alpha","setPixelRatio","setScissorTest","gammaOutput","gammaFactor","addEventListener","renderPass","bloomPassParams","bloomThreshold","bloomPass","postprocessing_UnrealBloomPass","offsetWidth","offsetHeight","dist_default","addPass","finalRenderer","isPostProcess","setScissor","raycastShape","buildDefaultCamera","wireframe","opacity","raycastShapeDistFromCam","scale","set","logCamera","log","position","target","cameraSettings","ratio","fov","near","far","HomeDskSceneEntity_firstStep","HomeDskSceneEntity","sceneL","sceneR","lamarMixer","lamarIdle","lamarReady","zanitMixer","zanitIdle","zanitReady","clock","gemBackMaterial","metalness","reflectivity","roughness","envMapIntensity","premultipliedAlpha","gemFrontMaterial","textureLoader","textureEquirec","init","initLights","initMeshes","initPersos","initAnimationMixer","rotation","z","stoneLights","cyanStone","pinkStone","pinkStoneClone","lamarRigged","clipAction","animations","play","zanitRigged","zanitReadyAnimation","PI","lamarSVG","zanitSVG","perso","stop","update","getDelta","envMap","Desktop_HomeDskSceneEntity","dat_gui_module","Trial1","video","setTimeout","document","getElementsByTagName","cyanSpotLight","pinkSpotLight","cyanSpotLightHelper","pinkSpotLightHelper","mobileQuaternionHelper","mobileQuaternionHelperDir","cyanPosToLerp","pinkPosToLerp","baseTour","holesArr","raycaster","spotLightRaycaster","colors","easingFactor","fusionScaleDuration","maxDistanceFromHole","maxColorScale","axesHelper","tour","islands","traverse","includes","hole","cyanValue","pinkValue","progress","winner","scaleMax","multiplyScalar","scaleMin","threeBus","refreshTrackedDatas","checkVictoriousPlayer","createSpotlights","spotLightParams","intensity","distance","penumbra","values","isTracking","targetGeometry","targetMaterial","targetSphere","visible","lastTrackedBlob","trackedDatas","cyanBlob","pinkBlob","applyLastTrackedDatas","raycastedPosFromCyanBlob","raycastedPosFromBlob","raycastedPosFromPinkBlob","blob","projectedTargPos","normalizedBlob","max","min","setFromCamera","intersects","intersectObject","point","warn","raycastedPosFromSpot","spot","normalizedTarget","normalize","normalizedPos","checkVictoryHole","cyanRaycastPos","pinkRaycastPos","progressMax","distanceHoleToCyan","distanceHoleToPink","distanceTo","defaultScaleDuration","newScale","lerp","nbTotalHoles","nbWhite","nbCyan","nbPink","nbFilledHoles","mobileQuaternions","cyanQuaternion","_x","_y","_w","quaternion","getWorldQuaternion","camToWorldQuaternion","multiply","pinkQuaternion","_z","initGui","gui","debug","onChange","boolean","spotLightHelpers","addFolder","open","raycastShapeFolder","close","Desktop_Trial1","curveFromGeometry","rawXYZarr","attributes","array","camPathPoints","applyFuncOnObjs","nameOfObj","children","SceneManager_firstStep","SceneManager","masterScene","currentSceneEntity","sceneEntities","DELTA_TIME","currentCameraPath","globalTweenedVars","camPosPercentage","mstime","time","fog","CameraGroup","cameraPos","initialTarget","camTargetPoints","find","Object3D","lookAt","nuages","nuagesLights","assetName","light","normalIntensity","trial_1_intro","CustomRenderer","changeToStep","onWindowResize","initEventsListeners","socket","Quaternion","animateCamOnPath","delay","easing","cameraPathGeometry","camPaths","gsap","fromTo","ease","easeInOut","animateCamTarget","targetName","nextTargetPos","fadeIn","fadeInInfos","addedAssetName","localTweenedVar","fadeInPercentage","addedMesh","onUpdate","fadeOut","fadeOutInfos","fadeOutPercentage","removedAssetName","to","removedMesh","removedLight","remove","removedStuff","step","addedThreeGroupsDsk","removedThreeGroupsDsk","cameraTransition","camPos","isMovingCamera","camTarget","updateTime","Date","now","LAST_TIME","requestAnimationFrame","camTargetGlobalPos","setViewport","threejs_SceneManager","sceneManager","loader","threejs_ThreeEntryPointDsk","$data","threeEntryPoint","$refs","animThree","watch","roomState.currentStep","handler","oldStep","deep","ThreeContainer_ThreeContainerDskvue_type_script_lang_js_","ThreeContainerDsk","ThreeContainerDsk_component","ThreeContainerMobvue_type_template_id_4a9e45bc_scoped_true_render","three_device_orientation","three_device_orientation_default","CrystalSceneEntity","sceneCyan","scenePink","meshCyan","meshPink","controls","GyroObject3D","usingGyro","frameCount","background","characterColor","geoCyan","matCyan","geoPink","matPink","emit","Mobile_CrystalSceneEntity","HomeMobSceneEntity_firstStep","HomeMobSceneEntity_HomeDskSceneEntity","axesHelpers","HomeMobSceneEntity","SceneManagerMob_firstStep","initScenesEntities","ThreeEntryPointMob","threejs_SceneManagerMob","threejs_ThreeEntryPointMob","ThreeContainer_ThreeContainerMobvue_type_script_lang_js_","ThreeContainerMob_component","ThreeContainerMobvue_type_template_id_4a9e45bc_scoped_true_staticRenderFns","ThreeContainerMob","Appvue_type_script_lang_js_","experienceSteps_default","lamar","zanit","showRoom","showCantJoin","setUsersData","newRoomState","setOwnState","requestedRoom","changedState","newUsers","src_Appvue_type_script_lang_js_","App","App_component","vue_router_esm","components_Logovue_type_script_lang_js_","Logo_component","Logovue_type_template_id_87836ad8_scoped_true_render","Logovue_type_template_id_87836ad8_scoped_true_staticRenderFns","Logo","homevue_type_script_lang_js_firstStep","sliderBar","home_component","views_homevue_type_script_lang_js_","homevue_type_template_id_991ebc7a_scoped_true_render","homevue_type_template_id_991ebc7a_scoped_true_staticRenderFns","roomvue_type_template_id_1d64e1d5_scoped_true_staticRenderFns","src","alt","PictoDesktop_component","PictoDesktopvue_type_template_id_36c6d552_scoped_true_render","roomvue_type_script_lang_js_","PictoMobile","mobileCount","mounted","noSleep","NoSleep","tl","TimelineLite","TweenMax","easeIn","dispositif","display","room_component","views_roomvue_type_script_lang_js_","roomvue_type_template_id_1d64e1d5_scoped_true_render","room","selectionPersosvue_type_template_id_09461592_scoped_true_render","directives","rawName","expression","lamarPlayer","zanitPlayer","~click","choosePerso","selectionPersosvue_type_template_id_09461592_scoped_true_staticRenderFns","selectionPersosvue_type_script_lang_js_","currentLamar","oldLamar","player1","roomState.zanit","currentZanit","oldZanit","player2","currentRoomState","oldRoomState","views_selectionPersosvue_type_script_lang_js_","selectionPersos_component","selectionPersos","onSkip","views_dioramasvue_type_script_lang_js_","dioramas_component","dioramasvue_type_template_id_12351b48_scoped_true_render","dioramasvue_type_template_id_12351b48_scoped_true_staticRenderFns","tutoInteractifvue_type_template_id_6dc50fc4_scoped_true_render","camIsActive","uiDatas","hasStarted","_m","tutoInteractifvue_type_template_id_6dc50fc4_scoped_true_staticRenderFns","TrackerVideovue_type_template_id_60abc24c_scoped_true_render","autoplay","muted","domProps","TrackerVideovue_type_template_id_60abc24c_scoped_true_staticRenderFns","Tracker","tracker","tracking","ColorTracker","track","cyanBlobs","getAverageBlob","pinkBlobs","blobsArray","averageBlob","reduce","prevBlob","currBlob","onTrack","tracker_Tracker","components_TrackerVideovue_type_script_lang_js_","TrackerVideo_component","TrackerVideo","getMedia","getUserMedia","clearInterval","checkCameraIsActivated","views_tutoInteractifvue_type_script_lang_js_","tutoInteractif","tutoInteractif_component","experiencevue_type_template_id_74316a3f_scoped_true_render","experiencevue_type_template_id_74316a3f_scoped_true_staticRenderFns","views_experiencevue_type_script_lang_js_","experience_component","experience","vue_runtime_esm","config","productionTip","56f7","5c0b","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_room_vue_vue_type_style_index_0_id_1d64e1d5_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tutoInteractif_vue_vue_type_style_index_0_id_6dc50fc4_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tutoInteractif_vue_vue_type_style_index_0_id_6dc50fc4_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","62b4","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ThreeContainerDsk_vue_vue_type_style_index_0_id_e13846ec_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ThreeContainerDsk_vue_vue_type_style_index_0_id_e13846ec_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","6c23","process","socket_io_client__WEBPACK_IMPORTED_MODULE_0__","socket_io_client__WEBPACK_IMPORTED_MODULE_0___default","port","NODE_ENV","BASE_URL","PORT","env","ip","74cb","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PictoMobile_vue_vue_type_style_index_0_id_4e984c26_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PictoMobile_vue_vue_type_style_index_0_id_4e984c26_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","8ee1","hasMobileThreeScene","fogDist","toRadians","asset","removedThreeGroupsMob","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DebugUIHelpers_vue_vue_type_style_index_0_id_3e7ac98c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","cbe2","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TrackerVideo_vue_vue_type_style_index_0_id_60abc24c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TrackerVideo_vue_vue_type_style_index_0_id_60abc24c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.731866d5.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectionPersos.vue?vue&type=style&index=0&id=09461592&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectionPersos.vue?vue&type=style&index=0&id=09461592&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"white\":\"#fff\",\"black\":\"#000000\",\"grey\":\"#e3e3e3\",\"cyan\":\"#00ffff\",\"pink\":\"#ff00ff\",\"blue\":\"#0000ff\",\"red\":\"#ff0000\"};","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logo.vue?vue&type=style&index=0&id=87836ad8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logo.vue?vue&type=style&index=0&id=87836ad8&scoped=true&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeContainerMob.vue?vue&type=style&index=0&id=4a9e45bc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeContainerMob.vue?vue&type=style&index=0&id=4a9e45bc&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dioramas.vue?vue&type=style&index=0&id=12351b48&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dioramas.vue?vue&type=style&index=0&id=12351b48&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('router-view',{staticClass:\"page\",attrs:{\"isMobile\":_vm.isMobile,\"roomId\":_vm.roomId,\"roomState\":_vm.roomState,\"users\":_vm.users},on:{\"createRoom\":_vm.userCreateRoom,\"joinRoom\":_vm.userJoinRoom}})],1),_c('div',{staticClass:\"UIOverlay\"},[_c('a',{attrs:{\"href\":\"\"}},[_vm._v(\"About\")]),_c('button',{staticClass:\"audio\",class:[_vm.isAudioActive ? 'on' : 'off'],on:{\"click\":function($event){return _vm.toggleAudio()}}})]),_c('DebugUIHelpers',{attrs:{\"users\":_vm.users,\"roomState\":_vm.roomState}}),(!_vm.isMobile)?_c('ThreeContainerDsk',{attrs:{\"roomState\":_vm.roomState,\"needsCamera\":true}}):_vm._e(),(_vm.isMobile)?_c('ThreeContainerMob',{attrs:{\"roomState\":_vm.roomState,\"character\":_vm.myCharacter}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * @function reMap\r\n * @param {number} value\r\n * @param {number} low1\r\n * @param {number} high1\r\n * @param {number} low2\r\n * @param {number} high2\r\n * @returns {number}\r\n */\r\nfunction reMap(value, low1, high1, low2, high2) {\r\n    return low2 + ((high2 - low2) * (value - low1)) / (high1 - low1)\r\n}\r\n\r\n/**\r\n * @function checkIfMobile\r\n * @returns {boolean}\r\n */\r\nfunction checkIfMobile() {\r\n    var check = false\r\n    ;(function(a) {\r\n        if (\r\n            /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\r\n                a\r\n            ) ||\r\n            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\r\n                a.substr(0, 4)\r\n            )\r\n        )\r\n            check = true\r\n    })(navigator.userAgent || navigator.vendor || window.opera)\r\n    return check\r\n}\r\n\r\n/** */\r\nconst findIp = new Promise(r => {\r\n    var w = window,\r\n        a = new (w.RTCPeerConnection ||\r\n            w.mozRTCPeerConnection ||\r\n            w.webkitRTCPeerConnection)({ iceServers: [] }),\r\n        b = () => {}\r\n    a.createDataChannel(\"\")\r\n    a.createOffer(c => a.setLocalDescription(c, b, b), b)\r\n    a.onicecandidate = c => {\r\n        try {\r\n            c.candidate.candidate\r\n                .match(\r\n                    /([0-9]{1,3}(\\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g\r\n                )\r\n                .forEach(r)\r\n        } catch (e) {}\r\n    }\r\n})\r\n\r\nfunction toRadians(angle) {\r\n    return angle * (Math.PI / 180)\r\n}\r\n\r\nexport { reMap, checkIfMobile, findIp, toRadians }\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isDebugMode)?_c('div',{staticClass:\"debugUI\"},[(_vm.isDebugMode)?_c('button',{staticClass:\"debugButton\",on:{\"click\":function($event){return _vm.setRoomState({currentStep: {name:'NEXT'}})}}},[_vm._v(\"NEXT STEP\")]):_vm._e(),(_vm.isDebugMode)?_c('button',{staticClass:\"debugButton\",on:{\"click\":function($event){return _vm.logTrial1Victorious()}}},[_vm._v(\"TRIAL1 VICTORIOUS\")]):_vm._e(),_c('div',[_c('span',[_vm._v(\"Desktop Users: \"+_vm._s(_vm.desktopUsersCount))]),_c('span',[_vm._v(\"Mobile Users: \"+_vm._s(_vm.mobileUsersCount))]),_c('span',[_vm._v(\"Current Step: \"+_vm._s(_vm.roomState.currentStep))])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"debugUI\" v-if=\"isDebugMode\">\r\n        <!-- <button\r\n            class=\"debugButton\"\r\n            v-if=\"isDebugMode\"\r\n            @click=\"setRoomState({currentStep: {name:'home'}})\"\r\n        >**DEBUG** SET STEP</button>-->\r\n        <button\r\n            class=\"debugButton\"\r\n            v-if=\"isDebugMode\"\r\n            @click=\"setRoomState({currentStep: {name:'NEXT'}})\"\r\n        >NEXT STEP</button>\r\n\r\n        <button\r\n            class=\"debugButton\"\r\n            v-if=\"isDebugMode\"\r\n            @click=\"logTrial1Victorious()\"\r\n        >TRIAL1 VICTORIOUS</button>\r\n\r\n        <div>\r\n            <span>Desktop Users: {{desktopUsersCount}}</span>\r\n            <span>Mobile Users: {{mobileUsersCount}}</span>\r\n            <span>Current Step: {{roomState.currentStep}}</span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { bus } from \"../main\"\r\n\r\nexport default {\r\n    name: \"DebugUIHelpers\",\r\n    components: {},\r\n    props: {\r\n        roomId: String,\r\n        isMobile: Boolean,\r\n        users: Array,\r\n        roomState: Object\r\n    },\r\n    data: function() {\r\n        return {\r\n            isDebugMode: true\r\n        }\r\n    },\r\n    computed: {\r\n        desktopUsersCount() {\r\n            return this.$props.users.filter(user => !user.isMobile).length\r\n        },\r\n        mobileUsersCount() {\r\n            return this.$props.users.filter(user => user.isMobile).length\r\n        }\r\n    },\r\n    methods: {\r\n        setRoomState(stateObj) {\r\n            bus.$emit(\"setRoomState\", stateObj)\r\n        },\r\n        logTrial1Victorious() {\r\n            bus.$emit(\"logTrial1Victorious\")\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.debugUI {\r\n    pointer-events: none;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: 1000;\r\n    font-size: 10px;\r\n    opacity: 0.3;\r\n\r\n    span {\r\n        margin-right: 10px;\r\n    }\r\n\r\n    .debugButton {\r\n        pointer-events: auto;\r\n        margin-right: 10px;\r\n        color: #0f0;\r\n        background: #000;\r\n        padding: 10px;\r\n        display: inline-block;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugUIHelpers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugUIHelpers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DebugUIHelpers.vue?vue&type=template&id=3e7ac98c&scoped=true&\"\nimport script from \"./DebugUIHelpers.vue?vue&type=script&lang=js&\"\nexport * from \"./DebugUIHelpers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DebugUIHelpers.vue?vue&type=style&index=0&id=3e7ac98c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e7ac98c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvasContainer\"},[_c('canvas',{ref:\"canvas\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { TextureLoader } from \"three\"\r\nimport { reject } from \"q\"\r\nimport GLTFLoader from \"three-gltf-loader\"\r\nimport { OBJLoader } from \"three-obj-mtl-loader\"\r\nimport SVGLoader from \"three-svg-loader\"\r\nimport * as THREE from \"three\"\r\n\r\n// const FBXLoader = require('three-fbx-loader');\r\nconst FBXLoader = require('three-fbxloader-offical');\r\n\r\nfunction AssetsLoader() {\r\n    this.assets = {}\r\n    this._promises = []\r\n    this._GLTFLoader = new GLTFLoader()\r\n    this._OBJLoader = new OBJLoader()\r\n    this._FBXLoader = new FBXLoader()\r\n    this._TextureLoader = new TextureLoader()\r\n    this._SVGLoader = new SVGLoader()\r\n\r\n    this.load = function(path, ref, childArr) {\r\n        const extension = path.substr(path.indexOf(\".\"))\r\n\r\n        if (extension === \".gltf\" || extension === \".glb\") {\r\n            this._promises.push(this._loadGLTF(path, ref, childArr))\r\n        } else if (extension === \".obj\") {\r\n            this._promises.push(this._loadOBJ(path, ref))\r\n        } else if (extension === \".fbx\") {\r\n            this._promises.push(this._loadFBX(path, ref))\r\n        } else if (extension === \".png\" || extension === \".jpg\") {\r\n            this._promises.push(this._loadTexture(path, ref))\r\n        } else if (extension === \".svg\") {\r\n            this._promises.push(this._loadSVG(path, ref))\r\n        }\r\n    }\r\n\r\n    this._loadGLTF = function(path, ref, childArr) {\r\n        return new Promise((resolve, reject) => {\r\n            if (path && ref) {\r\n                this._GLTFLoader.load(path, gltf => {\r\n                    if (childArr) {\r\n                        let object = gltf\r\n\r\n                        childArr.forEach((child, index) => {\r\n                            object = object[child]\r\n                        })\r\n\r\n                        this.assets[ref] = object\r\n                    } else {\r\n                        this.assets[ref] = gltf\r\n                    }\r\n\r\n                    resolve()\r\n                })\r\n            } else {\r\n                reject(\"Can't load GLTF\")\r\n            }\r\n        })\r\n    }\r\n\r\n    this._loadOBJ = function(path, ref) {\r\n        return new Promise((resolve, reject) => {\r\n            if (path && ref) {\r\n                this._OBJLoader.load(path, obj => {\r\n                    this.assets[ref] = obj\r\n                    resolve()\r\n                })\r\n            } else {\r\n                reject(\"Can't load OBJ\")\r\n            }\r\n        })\r\n    }\r\n\r\n    this._loadFBX = function(path, ref) {\r\n        return new Promise((resolve, reject) => {\r\n            if (path && ref) {\r\n                this._FBXLoader.load(path, fbx => {\r\n                    this.assets[ref] = fbx\r\n                    resolve()\r\n                })\r\n            } else {\r\n                reject(\"Can't load FBX\")\r\n            }\r\n        })\r\n    }\r\n\r\n    this._loadTexture = function(path, ref) {\r\n        if (path && ref) {\r\n            return new Promise(resolve => {\r\n                const texture = this._TextureLoader.load(path)\r\n                this.assets[ref] = texture\r\n\r\n                resolve()\r\n            })\r\n        } else {\r\n            reject(\"Can't load texture\")\r\n        }\r\n    }\r\n\r\n    this._loadSVG = function(path, ref) {\r\n        return new Promise((resolve, reject) => {\r\n            if (path && ref) {\r\n                // console.log(\"load svg\")\r\n                this._SVGLoader.load(path, svg => {\r\n                    var group = new THREE.Group()\r\n                    var paths = svg.paths\r\n\r\n                    for (var i = 0; i < paths.length; i++) {\r\n                        var path = paths[i]\r\n\r\n                        var material = new THREE.MeshBasicMaterial({\r\n                            color: path.color,\r\n                            side: THREE.DoubleSide\r\n                            // depthWrite: false\r\n                        })\r\n\r\n                        var shapes = path.toShapes(true)\r\n\r\n                        for (var j = 0; j < shapes.length; j++) {\r\n                            var shape = shapes[j]\r\n                            var geometry = new THREE.ShapeBufferGeometry(shape)\r\n                            var mesh = new THREE.Mesh(geometry, material)\r\n                            group.add(mesh)\r\n                        }\r\n                    }\r\n\r\n                    this.assets[ref] = group\r\n                    resolve()\r\n                })\r\n            } else {\r\n                reject(\"Can't load SVG\")\r\n            }\r\n        })\r\n    }\r\n\r\n    this.onComplete = function(callback) {\r\n        Promise.all(this._promises)\r\n            .then(() => {\r\n                callback(this.assets)\r\n            })\r\n            .catch(error => {\r\n                console.error(\"A promise has failed : \", error)\r\n            })\r\n    }\r\n}\r\n\r\nexport default AssetsLoader\r\n","\"use strict\";\r\n\r\nimport * as THREE from \"three\";\r\n/**\r\n * A render Pass is used to render something in the graphics pipeline.\r\n *\r\n * Can be used to render a scene, apply post processing effects, merge buffers,  etc.\r\n *\r\n * @class Pass\r\n * @module Postprocessing\r\n */\r\nfunction Pass() {\r\n  this.uuid = THREE.Math.generateUUID();\r\n  this.type = \"Pass\";\r\n\r\n  /**\r\n   * If set to true, the pass is processed by the composer.\r\n   *\r\n   * @property enabled\r\n   * @type {Boolean}\r\n   */\r\n  this.enabled = true;\r\n\r\n  /**\r\n   * If set to true, the pass indicates to swap read and write buffer after rendering.\r\n   *\r\n   * @property needsSwap\r\n   * @type {Boolean}\r\n   */\r\n  this.needsSwap = true;\r\n\r\n  /**\r\n   * If set to true, the pass clears its buffer before rendering.\r\n   *\r\n   * @property clear\r\n   * @type {Boolean}\r\n   */\r\n  this.clear = false;\r\n\r\n  /**\r\n   * If set to true, the result of the pass is rendered to screen.\r\n   *\r\n   * @property renderToScreen\r\n   * @type {Boolean}\r\n   */\r\n  this.renderToScreen = false;\r\n\r\n  /**\r\n   * If set to true, the result of the pass needs to be copied to the ouput by the effect renderer if renderToScren is enabled.\r\n   *\r\n   * @property copyToScreen\r\n   * @type {Boolean}\r\n   */\r\n  this.copyToScreen = false;\r\n}\r\n\r\n/**\r\n * Parameters used for a RGBA linear filtered render target.\r\n *\r\n * @static\r\n * @attribute RGBALinear\r\n * @type {Object}\r\n */\r\nPass.RGBALinear = {\r\n  minFilter: THREE.LinearFilter,\r\n  magFilter: THREE.LinearFilter,\r\n  format: THREE.RGBAFormat\r\n};\r\n\r\n/**\r\n * Parameters used for a RGB linear filtered render target.\r\n *\r\n * @static\r\n * @attribute RGBLinear\r\n * @type {Object}\r\n */\r\nPass.RGBLinear = {\r\n  minFilter: THREE.LinearFilter,\r\n  magFilter: THREE.LinearFilter,\r\n  format: THREE.RGBFormat\r\n};\r\n\r\n/**\r\n * Parameters used for a RGBA unfiltered render target.\r\n *\r\n * @static\r\n * @attribute RGBANearest\r\n * @type {Object}\r\n */\r\nPass.RGBANearest = {\r\n  minFilter: THREE.NearestFilter,\r\n  magFilter: THREE.NearestFilter,\r\n  format: THREE.RGBAFormat\r\n};\r\n\r\n/**\r\n * Create a quad scene to render post-processing effects.\r\n *\r\n * It creates multiple attributes in the object to support that scene.\r\n *\r\n * @method createQuadScene\r\n */\r\nPass.prototype.createQuadScene = function() {\r\n  /**\r\n   * Quad rendering camera.\r\n   *\r\n   * @attribute camera\r\n   * @type {THREE.OthographicCamera}\r\n   */\r\n  this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);\r\n\r\n  /**\r\n   * Quad scene, that contains a single quad children.\r\n   *\r\n   * @attribute scene\r\n   * @type {THREE.Scene}\r\n   */\r\n  this.scene = new THREE.Scene();\r\n\r\n  /**\r\n   * Quad mesh, composed of a 2 by 2 plane geometry.\r\n   *\r\n   * @attribute quad\r\n   * @type {THREE.Mesh}\r\n   */\r\n  this.quad = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), null);\r\n  this.quad.frustumCulled = false;\r\n  this.scene.add(this.quad);\r\n};\r\n\r\n/**\r\n * Set resolution of this render pass.\r\n *\r\n * @method setSize\r\n * @param {Number} width\r\n * @param {Number} height\r\n */\r\nPass.prototype.setSize = function(width, height) {};\r\n\r\n/**\r\n * Render the scene using this render pass.\r\n *\r\n * @method render\r\n * @param {WebGLRenderer} renderer\r\n * @param {WebGLRenderTarget} writeBuffer Buffer to write output.\r\n * @param {WebGLRenderTarget} readBuffer Input buffer.\r\n * @param {Number} delta Delta time in milliseconds.\r\n * @param {Boolean} maskActive Not used in this pass.\r\n * @param {Scene} scene Scene to render.\r\n */\r\nPass.prototype.render = function(\r\n  renderer,\r\n  writeBuffer,\r\n  readBuffer,\r\n  delta,\r\n  maskActive,\r\n  scene,\r\n  camera\r\n) {};\r\n\r\n/**\r\n * Dispose this render pass.\r\n *\r\n * @method dispose\r\n */\r\nPass.prototype.dispose = function() {};\r\n\r\n/**\r\n * Serialize pass to json.\r\n *\r\n * @method toJSON\r\n * @param {Object} meta Metadata object.\r\n */\r\nPass.prototype.toJSON = function(meta) {\r\n  var data = {};\r\n\r\n  data.uuid = this.uuid;\r\n  data.type = this.type;\r\n\r\n  data.enabled = this.enabled;\r\n  data.needsSwap = this.needsSwap;\r\n  data.renderToScreen = this.renderToScreen;\r\n  data.clear = this.clear;\r\n  data.copyToScreen = this.copyToScreen;\r\n\r\n  return data;\r\n};\r\n\r\nexport default Pass;\r\n","/**\r\n * @author bhouston / http://clara.io/\r\n *\r\n * Luminosity\r\n * http://en.wikipedia.org/wiki/Luminosity\r\n */\r\nimport * as THREE from \"three\";\r\n\r\nconst LuminosityHighPassShader = {\r\n  shaderID: \"luminosityHighPass\",\r\n\r\n  uniforms: {\r\n    tDiffuse: { type: \"t\", value: null },\r\n    luminosityThreshold: { type: \"f\", value: 1.0 },\r\n    smoothWidth: { type: \"f\", value: 1.0 },\r\n    defaultColor: { type: \"c\", value: new THREE.Color(0x000000) },\r\n    defaultOpacity: { type: \"f\", value: 0.0 }\r\n  },\r\n\r\n  vertexShader: [\r\n    \"varying vec2 vUv;\",\r\n\r\n    \"void main() {\",\r\n\r\n    \"vUv = uv;\",\r\n\r\n    \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n    \"}\"\r\n  ].join(\"\\n\"),\r\n\r\n  fragmentShader: [\r\n    \"uniform sampler2D tDiffuse;\",\r\n    \"uniform vec3 defaultColor;\",\r\n    \"uniform float defaultOpacity;\",\r\n    \"uniform float luminosityThreshold;\",\r\n    \"uniform float smoothWidth;\",\r\n\r\n    \"varying vec2 vUv;\",\r\n\r\n    \"void main() {\",\r\n\r\n    \"vec4 texel = texture2D( tDiffuse, vUv );\",\r\n\r\n    \"vec3 luma = vec3( 0.299, 0.587, 0.114 );\",\r\n\r\n    \"float v = dot( texel.xyz, luma );\",\r\n\r\n    \"vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\",\r\n\r\n    \"float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\",\r\n\r\n    \"gl_FragColor = mix( outputColor, texel, alpha );\",\r\n\r\n    \"}\"\r\n  ].join(\"\\n\")\r\n};\r\n\r\nexport default LuminosityHighPassShader;\r\n","/**\r\n * @author spidersharma / http://eduperiment.com/\r\n *\r\n * Inspired from Unreal Engine\r\n * https://docs.unrealengine.com/latest/INT/Engine/Rendering/PostProcessEffects/Bloom/\r\n */\r\nimport * as THREE from \"three\";\r\nimport EffectComposer, {\r\n  RenderPass,\r\n  ShaderPass,\r\n  CopyShader\r\n} from \"three-effectcomposer-es6\";\r\nimport Pass from \"./Pass.js\";\r\nimport LuminosityHighPassShader from \"../shaders/LuminosityHighPassShader.js\";\r\n\r\nfunction UnrealBloomPass(resolution, strength, radius, threshold) {\r\n  Pass.call(this);\r\n\r\n  this.strength = strength !== undefined ? strength : 1;\r\n  this.radius = radius;\r\n  this.threshold = threshold;\r\n  this.resolution =\r\n    resolution !== undefined\r\n      ? new THREE.Vector2(resolution.x, resolution.y)\r\n      : new THREE.Vector2(256, 256);\r\n\r\n  // create color only once here, reuse it later inside the render function\r\n  this.clearColor = new THREE.Color(0, 0, 0);\r\n\r\n  // render targets\r\n  var pars = {\r\n    minFilter: THREE.LinearFilter,\r\n    magFilter: THREE.LinearFilter,\r\n    format: THREE.RGBAFormat\r\n  };\r\n  this.renderTargetsHorizontal = [];\r\n  this.renderTargetsVertical = [];\r\n  this.nMips = 5;\r\n  var resx = Math.round(this.resolution.x / 2);\r\n  var resy = Math.round(this.resolution.y / 2);\r\n\r\n  this.renderTargetBright = new THREE.WebGLRenderTarget(resx, resy, pars);\r\n  this.renderTargetBright.texture.name = \"UnrealBloomPass.bright\";\r\n  this.renderTargetBright.texture.generateMipmaps = false;\r\n\r\n  for (var i = 0; i < this.nMips; i++) {\r\n    var renderTargetHorizonal = new THREE.WebGLRenderTarget(resx, resy, pars);\r\n\r\n    renderTargetHorizonal.texture.name = \"UnrealBloomPass.h\" + i;\r\n    renderTargetHorizonal.texture.generateMipmaps = false;\r\n\r\n    this.renderTargetsHorizontal.push(renderTargetHorizonal);\r\n\r\n    var renderTargetVertical = new THREE.WebGLRenderTarget(resx, resy, pars);\r\n\r\n    renderTargetVertical.texture.name = \"UnrealBloomPass.v\" + i;\r\n    renderTargetVertical.texture.generateMipmaps = false;\r\n\r\n    this.renderTargetsVertical.push(renderTargetVertical);\r\n\r\n    resx = Math.round(resx / 2);\r\n\r\n    resy = Math.round(resy / 2);\r\n  }\r\n\r\n  // luminosity high pass material\r\n\r\n  if (LuminosityHighPassShader === undefined)\r\n    console.error(\"UnrealBloomPass relies on LuminosityHighPassShader\");\r\n\r\n  var highPassShader = LuminosityHighPassShader;\r\n  this.highPassUniforms = THREE.UniformsUtils.clone(highPassShader.uniforms);\r\n\r\n  this.highPassUniforms[\"luminosityThreshold\"].value = threshold;\r\n  this.highPassUniforms[\"smoothWidth\"].value = 0.01;\r\n\r\n  this.materialHighPassFilter = new THREE.ShaderMaterial({\r\n    uniforms: this.highPassUniforms,\r\n    vertexShader: highPassShader.vertexShader,\r\n    fragmentShader: highPassShader.fragmentShader,\r\n    defines: {}\r\n  });\r\n\r\n  // Gaussian Blur Materials\r\n  this.separableBlurMaterials = [];\r\n  var kernelSizeArray = [3, 5, 7, 9, 11];\r\n  var resx = Math.round(this.resolution.x / 2);\r\n  var resy = Math.round(this.resolution.y / 2);\r\n\r\n  for (var i = 0; i < this.nMips; i++) {\r\n    this.separableBlurMaterials.push(\r\n      this.getSeperableBlurMaterial(kernelSizeArray[i])\r\n    );\r\n\r\n    this.separableBlurMaterials[i].uniforms[\r\n      \"texSize\"\r\n    ].value = new THREE.Vector2(resx, resy);\r\n\r\n    resx = Math.round(resx / 2);\r\n\r\n    resy = Math.round(resy / 2);\r\n  }\r\n\r\n  // Composite material\r\n  this.compositeMaterial = this.getCompositeMaterial(this.nMips);\r\n  this.compositeMaterial.uniforms[\r\n    \"blurTexture1\"\r\n  ].value = this.renderTargetsVertical[0].texture;\r\n  this.compositeMaterial.uniforms[\r\n    \"blurTexture2\"\r\n  ].value = this.renderTargetsVertical[1].texture;\r\n  this.compositeMaterial.uniforms[\r\n    \"blurTexture3\"\r\n  ].value = this.renderTargetsVertical[2].texture;\r\n  this.compositeMaterial.uniforms[\r\n    \"blurTexture4\"\r\n  ].value = this.renderTargetsVertical[3].texture;\r\n  this.compositeMaterial.uniforms[\r\n    \"blurTexture5\"\r\n  ].value = this.renderTargetsVertical[4].texture;\r\n  this.compositeMaterial.uniforms[\"bloomStrength\"].value = strength;\r\n  this.compositeMaterial.uniforms[\"bloomRadius\"].value = 0.1;\r\n  this.compositeMaterial.needsUpdate = true;\r\n\r\n  var bloomFactors = [1.0, 0.8, 0.6, 0.4, 0.2];\r\n  this.compositeMaterial.uniforms[\"bloomFactors\"].value = bloomFactors;\r\n  this.bloomTintColors = [\r\n    new THREE.Vector3(1, 1, 1),\r\n    new THREE.Vector3(1, 1, 1),\r\n    new THREE.Vector3(1, 1, 1),\r\n    new THREE.Vector3(1, 1, 1),\r\n    new THREE.Vector3(1, 1, 1)\r\n  ];\r\n  this.compositeMaterial.uniforms[\r\n    \"bloomTintColors\"\r\n  ].value = this.bloomTintColors;\r\n\r\n  // copy material\r\n  if (CopyShader === undefined) {\r\n    console.error(\"BloomPass relies on CopyShader\");\r\n  }\r\n\r\n  var copyShader = CopyShader;\r\n\r\n  this.copyUniforms = THREE.UniformsUtils.clone(copyShader.uniforms);\r\n  this.copyUniforms[\"opacity\"].value = 1.0;\r\n\r\n  this.materialCopy = new THREE.ShaderMaterial({\r\n    uniforms: this.copyUniforms,\r\n    vertexShader: copyShader.vertexShader,\r\n    fragmentShader: copyShader.fragmentShader,\r\n    blending: THREE.AdditiveBlending,\r\n    depthTest: false,\r\n    depthWrite: false,\r\n    transparent: true\r\n  });\r\n\r\n  this.enabled = true;\r\n  this.needsSwap = false;\r\n\r\n  this.oldClearColor = new THREE.Color();\r\n  this.oldClearAlpha = 1;\r\n\r\n  this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);\r\n  this.scene = new THREE.Scene();\r\n\r\n  this.basic = new THREE.MeshBasicMaterial();\r\n\r\n  this.quad = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), null);\r\n  this.quad.frustumCulled = false; // Avoid getting clipped\r\n  this.scene.add(this.quad);\r\n}\r\n\r\nUnrealBloomPass.prototype = Object.assign(Object.create(Pass.prototype), {\r\n  constructor: UnrealBloomPass,\r\n\r\n  dispose: function() {\r\n    for (var i = 0; i < this.renderTargetsHorizontal.length; i++) {\r\n      this.renderTargetsHorizontal[i].dispose();\r\n    }\r\n\r\n    for (var i = 0; i < this.renderTargetsVertical.length; i++) {\r\n      this.renderTargetsVertical[i].dispose();\r\n    }\r\n\r\n    this.renderTargetBright.dispose();\r\n  },\r\n\r\n  setSize: function(width, height) {\r\n    var resx = Math.round(width / 2);\r\n    var resy = Math.round(height / 2);\r\n\r\n    this.renderTargetBright.setSize(resx, resy);\r\n\r\n    for (var i = 0; i < this.nMips; i++) {\r\n      this.renderTargetsHorizontal[i].setSize(resx, resy);\r\n      this.renderTargetsVertical[i].setSize(resx, resy);\r\n\r\n      this.separableBlurMaterials[i].uniforms[\r\n        \"texSize\"\r\n      ].value = new THREE.Vector2(resx, resy);\r\n\r\n      resx = Math.round(resx / 2);\r\n      resy = Math.round(resy / 2);\r\n    }\r\n  },\r\n\r\n  render: function(renderer, writeBuffer, readBuffer, deltaTime, maskActive) {\r\n    this.oldClearColor.copy(renderer.getClearColor());\r\n    this.oldClearAlpha = renderer.getClearAlpha();\r\n    var oldAutoClear = renderer.autoClear;\r\n    renderer.autoClear = false;\r\n\r\n    renderer.setClearColor(this.clearColor, 0);\r\n\r\n    if (maskActive) renderer.context.disable(renderer.context.STENCIL_TEST);\r\n\r\n    // Render input to screen\r\n\r\n    if (this.renderToScreen) {\r\n      this.quad.material = this.basic;\r\n      this.basic.map = readBuffer.texture;\r\n\r\n      renderer.setRenderTarget(null);\r\n      renderer.clear();\r\n      renderer.render(this.scene, this.camera);\r\n    }\r\n\r\n    // 1. Extract Bright Areas\r\n\r\n    this.highPassUniforms[\"tDiffuse\"].value = readBuffer.texture;\r\n    this.highPassUniforms[\"luminosityThreshold\"].value = this.threshold;\r\n    this.quad.material = this.materialHighPassFilter;\r\n\r\n    renderer.setRenderTarget(this.renderTargetBright);\r\n    renderer.clear();\r\n    renderer.render(this.scene, this.camera);\r\n\r\n    // 2. Blur All the mips progressively\r\n\r\n    var inputRenderTarget = this.renderTargetBright;\r\n\r\n    for (var i = 0; i < this.nMips; i++) {\r\n      this.quad.material = this.separableBlurMaterials[i];\r\n\r\n      this.separableBlurMaterials[i].uniforms[\"colorTexture\"].value =\r\n        inputRenderTarget.texture;\r\n      this.separableBlurMaterials[i].uniforms[\"direction\"].value =\r\n        UnrealBloomPass.BlurDirectionX;\r\n      renderer.setRenderTarget(this.renderTargetsHorizontal[i]);\r\n      renderer.clear();\r\n      renderer.render(this.scene, this.camera);\r\n\r\n      this.separableBlurMaterials[i].uniforms[\r\n        \"colorTexture\"\r\n      ].value = this.renderTargetsHorizontal[i].texture;\r\n      this.separableBlurMaterials[i].uniforms[\"direction\"].value =\r\n        UnrealBloomPass.BlurDirectionY;\r\n      renderer.setRenderTarget(this.renderTargetsVertical[i]);\r\n      renderer.clear();\r\n      renderer.render(this.scene, this.camera);\r\n\r\n      inputRenderTarget = this.renderTargetsVertical[i];\r\n    }\r\n\r\n    // Composite All the mips\r\n\r\n    this.quad.material = this.compositeMaterial;\r\n    this.compositeMaterial.uniforms[\"bloomStrength\"].value = this.strength;\r\n    this.compositeMaterial.uniforms[\"bloomRadius\"].value = this.radius;\r\n    this.compositeMaterial.uniforms[\r\n      \"bloomTintColors\"\r\n    ].value = this.bloomTintColors;\r\n\r\n    renderer.setRenderTarget(this.renderTargetsHorizontal[0]);\r\n    renderer.clear();\r\n    renderer.render(this.scene, this.camera);\r\n\r\n    // Blend it additively over the input texture\r\n\r\n    this.quad.material = this.materialCopy;\r\n    this.copyUniforms[\r\n      \"tDiffuse\"\r\n    ].value = this.renderTargetsHorizontal[0].texture;\r\n\r\n    if (maskActive) renderer.context.enable(renderer.context.STENCIL_TEST);\r\n\r\n    if (this.renderToScreen) {\r\n      renderer.setRenderTarget(null);\r\n      renderer.render(this.scene, this.camera);\r\n    } else {\r\n      renderer.setRenderTarget(readBuffer);\r\n      renderer.render(this.scene, this.camera);\r\n    }\r\n\r\n    // Restore renderer settings\r\n\r\n    renderer.setClearColor(this.oldClearColor, this.oldClearAlpha);\r\n    renderer.autoClear = oldAutoClear;\r\n  },\r\n\r\n  getSeperableBlurMaterial: function(kernelRadius) {\r\n    return new THREE.ShaderMaterial({\r\n      defines: {\r\n        KERNEL_RADIUS: kernelRadius,\r\n        SIGMA: kernelRadius\r\n      },\r\n\r\n      uniforms: {\r\n        colorTexture: { value: null },\r\n        texSize: { value: new THREE.Vector2(0.5, 0.5) },\r\n        direction: { value: new THREE.Vector2(0.5, 0.5) }\r\n      },\r\n\r\n      vertexShader:\r\n        \"varying vec2 vUv;\\n\\\r\n\t\t\t\tvoid main() {\\n\\\r\n\t\t\t\t\tvUv = uv;\\n\\\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\r\n\t\t\t\t}\",\r\n\r\n      fragmentShader:\r\n        \"#include <common>\\\r\n\t\t\t\tvarying vec2 vUv;\\n\\\r\n\t\t\t\tuniform sampler2D colorTexture;\\n\\\r\n\t\t\t\tuniform vec2 texSize;\\\r\n\t\t\t\tuniform vec2 direction;\\\r\n\t\t\t\t\\\r\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\\\r\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\\\r\n\t\t\t\t}\\\r\n\t\t\t\tvoid main() {\\n\\\r\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\\\r\n\t\t\t\t\tfloat fSigma = float(SIGMA);\\\r\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\\\r\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\\\r\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\\\r\n\t\t\t\t\t\tfloat x = float(i);\\\r\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\\\r\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\\\r\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\\\r\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\\\r\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\\\r\n\t\t\t\t\t\tweightSum += 2.0 * w;\\\r\n\t\t\t\t\t}\\\r\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\\n\\\r\n\t\t\t\t}\"\r\n    });\r\n  },\r\n\r\n  getCompositeMaterial: function(nMips) {\r\n    return new THREE.ShaderMaterial({\r\n      defines: {\r\n        NUM_MIPS: nMips\r\n      },\r\n\r\n      uniforms: {\r\n        blurTexture1: { value: null },\r\n        blurTexture2: { value: null },\r\n        blurTexture3: { value: null },\r\n        blurTexture4: { value: null },\r\n        blurTexture5: { value: null },\r\n        dirtTexture: { value: null },\r\n        bloomStrength: { value: 1.0 },\r\n        bloomFactors: { value: null },\r\n        bloomTintColors: { value: null },\r\n        bloomRadius: { value: 0.0 }\r\n      },\r\n\r\n      vertexShader:\r\n        \"varying vec2 vUv;\\n\\\r\n\t\t\t\tvoid main() {\\n\\\r\n\t\t\t\t\tvUv = uv;\\n\\\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\r\n\t\t\t\t}\",\r\n\r\n      fragmentShader:\r\n        \"varying vec2 vUv;\\\r\n\t\t\t\tuniform sampler2D blurTexture1;\\\r\n\t\t\t\tuniform sampler2D blurTexture2;\\\r\n\t\t\t\tuniform sampler2D blurTexture3;\\\r\n\t\t\t\tuniform sampler2D blurTexture4;\\\r\n\t\t\t\tuniform sampler2D blurTexture5;\\\r\n\t\t\t\tuniform sampler2D dirtTexture;\\\r\n\t\t\t\tuniform float bloomStrength;\\\r\n\t\t\t\tuniform float bloomRadius;\\\r\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\\\r\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\\\r\n\t\t\t\t\\\r\n\t\t\t\tfloat lerpBloomFactor(const in float factor) { \\\r\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\\\r\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\\\r\n\t\t\t\t}\\\r\n\t\t\t\t\\\r\n\t\t\t\tvoid main() {\\\r\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\\\r\n\t\t\t\t}\"\r\n    });\r\n  }\r\n});\r\n\r\nUnrealBloomPass.BlurDirectionX = new THREE.Vector2(1.0, 0.0);\r\nUnrealBloomPass.BlurDirectionY = new THREE.Vector2(0.0, 1.0);\r\n\r\nexport default UnrealBloomPass;\r\n","function CanvasRotator(canvas, camera, customRenderer) {\r\n    function rotateCanvas(angle) {\r\n        // https://stackoverflow.com/questions/33866535/how-to-scale-a-rotated-rectangle-to-always-fit-another-rectangle\r\n        // Set rotation\r\n        // canvas.style.transform = `translate(-50%, -50%) rotate(${canvasAngle}rad)`\r\n        canvas.style.transform = `rotate(${angle}rad)`\r\n\r\n        const boundingX =\r\n            window.innerWidth * Math.abs(Math.cos(angle)) +\r\n            window.innerHeight * Math.abs(Math.sin(angle))\r\n\r\n        const boundingY =\r\n            window.innerWidth * Math.abs(Math.sin(angle)) +\r\n            window.innerHeight * Math.abs(Math.cos(angle))\r\n\r\n        customRenderer.setSize(boundingX, boundingY)\r\n        camera.aspect = canvas.width / canvas.height\r\n        camera.updateProjectionMatrix()\r\n    }\r\n\r\n    function rotateCSS(el, angle) {\r\n        el.style.transform = `translate(-50%, -50%) rotate(${angle}rad)`\r\n    }\r\n\r\n    function moveSlider(e, angle) {\r\n        let sliderPos\r\n\r\n        if (e.pageX >= 0) {\r\n            sliderPos =\r\n                (window.innerWidth / 2 +\r\n                    (e.pageX - window.innerWidth / 2) * 0.45) *\r\n                    Math.abs(Math.cos(angle)) +\r\n                (window.innerHeight / 2) * Math.abs(Math.sin(angle))\r\n            // e.pageX * Math.abs(Math.cos(angle)) +\r\n            // (window.innerHeight / 2) * Math.abs(Math.sin(angle))\r\n        } else {\r\n            sliderPos =\r\n                e.touches[0].pageX * Math.abs(Math.cos(angle)) +\r\n                e.touches[0].pageY * Math.abs(Math.sin(angle))\r\n        }\r\n\r\n        return sliderPos\r\n    }\r\n\r\n    return {\r\n        rotateCanvas,\r\n        rotateCSS,\r\n        moveSlider\r\n    }\r\n}\r\n\r\nexport default CanvasRotator\r\n","import * as THREE from \"three\"\r\n\r\nimport EffectComposer, {\r\n    RenderPass,\r\n    ShaderPass,\r\n    CopyShader\r\n} from \"three-effectcomposer-es6\"\r\nimport UnrealBloomPass from \"./UnrealBloomPass.js\"\r\nimport CanvasRotator from \"@/threejs/CanvasRotator\"\r\nimport { bus } from \"@/main\"\r\nconst firstStep = require(\"../../../../server/experienceSteps.js\")[0]\r\n\r\n/**\r\n * Creates a renderer with post-processing passes and returns it.\r\n * Uses an EffectComposer.\r\n * TODO: expose methods that can modify the post-process effects.\r\n * @param {HTMLCanvasElement} canvas\r\n * @param {THREE.Scene[]} scenes\r\n * @param {THREE.Camera} camera\r\n * @returns {Object}\r\n */\r\nexport default function CustomRenderer(canvas, scenes, camera, isPostProcess) {\r\n    const renderer = buildRenderer(canvas)\r\n    const composer = buildComposer(scenes, camera)\r\n    let isScissor = true\r\n\r\n    bus.$on(\"create-room\", () => {\r\n        isScissor = false\r\n    })\r\n\r\n    // Slider\r\n    // let sliderPos = window.innerWidth / 2\r\n    let sliderPos =\r\n        (window.innerWidth / 2) * Math.abs(Math.cos(firstStep.canvasAngle)) +\r\n        (window.innerHeight / 2) * Math.abs(Math.sin(firstStep.canvasAngle))\r\n    let finalRenderer = isPostProcess ? composer : renderer\r\n\r\n    function buildRenderer(canvas) {\r\n        const DPR = window.devicePixelRatio ? window.devicePixelRatio : 1\r\n        const renderer = new THREE.WebGLRenderer({\r\n            canvas,\r\n            antialias: true,\r\n            alpha: true\r\n        })\r\n\r\n        // Transparent bg\r\n        renderer.setClearColor(0x000000, 0)\r\n\r\n        renderer.setPixelRatio(DPR)\r\n        renderer.setScissorTest(scenes.length > 1 ? true : false)\r\n\r\n        // LIGHTS TEST\r\n        renderer.physicallyCorrectLights = true\r\n        renderer.gammaOutput = true\r\n        renderer.gammaFactor = 2.2\r\n\r\n        // TODO: remove event listener when there is no slider (may help to get more FPS)\r\n        window.addEventListener(\"mousemove\", e => {\r\n            sliderPos = CanvasRotator().moveSlider(e, firstStep.canvasAngle)\r\n        })\r\n\r\n        return renderer\r\n    }\r\n\r\n    function buildComposer(scenes, camera) {\r\n        const renderPass = new RenderPass(scenes[0], camera)\r\n        // renderPass.clearColor = new THREE.Color(0, 1, 0);\r\n        // renderPass.clearAlpha = 0;\r\n\r\n        // BLOOM EFFECT\r\n        const bloomPassParams = {\r\n            // exposure: 0.1,\r\n            bloomStrength: 1.2,\r\n            bloomThreshold: 0.87,\r\n            bloomRadius: 0.8\r\n        }\r\n\r\n        let bloomPass = new UnrealBloomPass(\r\n            new THREE.Vector2(\r\n                canvas.offsetWidth * 0.8,\r\n                canvas.offsetHeight * 0.8\r\n            ),\r\n            0.5,\r\n            0.5,\r\n            0.5\r\n        )\r\n        bloomPass.renderToScreen = true\r\n        bloomPass.threshold = bloomPassParams.bloomThreshold\r\n        bloomPass.strength = bloomPassParams.bloomStrength\r\n        bloomPass.radius = bloomPassParams.bloomRadius\r\n\r\n        // COMPOSER\r\n        const composer = new EffectComposer(renderer)\r\n        composer.setSize(window.innerWidth, window.innerHeight)\r\n        composer.addPass(renderPass)\r\n        composer.addPass(bloomPass)\r\n\r\n        return composer\r\n    }\r\n\r\n    const setSize = (width, height) => {\r\n        if (isPostProcess) {\r\n            finalRenderer.renderer.setSize(width, height)\r\n        } else {\r\n            finalRenderer.setSize(width, height)\r\n        }\r\n    }\r\n\r\n    const render = (scenes, camera) => {\r\n        if (isPostProcess) {\r\n            finalRenderer.render()\r\n        } else {\r\n            if (scenes.length > 1 && isScissor) {\r\n                finalRenderer.setScissorTest(true)\r\n\r\n                finalRenderer.setScissor(0, 0, sliderPos, canvas.offsetHeight)\r\n                finalRenderer.render(scenes[0], camera)\r\n\r\n                finalRenderer.setScissor(\r\n                    sliderPos,\r\n                    0,\r\n                    canvas.offsetWidth,\r\n                    canvas.offsetHeight\r\n                )\r\n\r\n                finalRenderer.render(scenes[1], camera)\r\n            } else {\r\n                finalRenderer.setScissorTest(false)\r\n                // console.log({ scenes })\r\n                finalRenderer.render(scenes[0], camera)\r\n            }\r\n        }\r\n    }\r\n\r\n    return {\r\n        setSize,\r\n        render,\r\n        finalRenderer\r\n    }\r\n}\r\n","import * as THREE from \"three\"\r\nconst fisrtStep = require(\"../../../server/experienceSteps.js\")[0]\r\n\r\n/**\r\n * Factory that adds a raycastShape and a target to a camera, and returns it. /!\\ This needs to be added to the scene.\r\n * @param {THREE.Mesh} raycastShape Mesh that will stick with the camera. Can be used as a support to raycast and interact.\r\n * @param {THREE.Camera} [camera] Optional camera which can serve as a reference.\r\n * @returns {THREE.Camera} Returns a camera wich is also a group.\r\n */\r\nexport default function CameraGroup(\r\n    raycastShape,\r\n    camera = buildDefaultCamera()\r\n) {\r\n    camera.target = new THREE.Object3D() // use this to lookAt() with camera\r\n\r\n    camera.raycastShape = raycastShape\r\n\r\n    raycastShape.material = new THREE.MeshBasicMaterial({\r\n        color: 0xffff00,\r\n        wireframe: true,\r\n        transparent: true,\r\n        // depthTest: true,\r\n        // depthWrite: true,\r\n        // opacity: 1\r\n        depthTest: false,\r\n        depthWrite: false,\r\n        opacity: 0\r\n    })\r\n    const raycastShapeDistFromCam = 10 // specific number that matches with the default camera fov and stuff\r\n    raycastShape.position.z = -raycastShapeDistFromCam\r\n    raycastShape.scale.set(\r\n        raycastShapeDistFromCam * 0.5 * camera.aspect,\r\n        raycastShapeDistFromCam * 0.5,\r\n        raycastShapeDistFromCam - camera.near\r\n    )\r\n\r\n    camera.add(raycastShape)\r\n\r\n    camera.logCamera = () => {\r\n        console.log(`camera's position : \\n`, camera.position)\r\n        console.log(`camera's target.position : \\n`, camera.target.position)\r\n    }\r\n\r\n    return camera\r\n}\r\n\r\n/**\r\n * Factory that creates a new camera and return it.\r\n * It is called by CameraGroup() as a default parameter if no camera is passed to it.\r\n * @returns {THREE.Camera} Returns a camera.\r\n */\r\nfunction buildDefaultCamera() {\r\n    const cameraSettings = {\r\n        ratio: window.innerWidth / window.innerHeight,\r\n        fov: 40,\r\n        near: 1,\r\n        far: 10000\r\n    }\r\n    const camera = new THREE.PerspectiveCamera(\r\n        cameraSettings.fov,\r\n        cameraSettings.ratio,\r\n        cameraSettings.near,\r\n        cameraSettings.far\r\n    )\r\n\r\n    return camera\r\n}\r\n","import * as THREE from \"three\"\r\nimport CSS from \"@/config/styles.scss\"\r\nimport { threeBus } from \"@/main\"\r\nimport socket from \"@/socket\"\r\nconst firstStep = require(\"../../../../../server/experienceSteps.js\")[0]\r\n\r\nfunction HomeDskSceneEntity([sceneL, sceneR], assets) {\r\n    /* ----------------------- INPUTS ----------------------- */\r\n    let lamarMixer, lamarIdle, lamarReady\r\n    let zanitMixer, zanitIdle, zanitReady\r\n    var clock = new THREE.Clock()\r\n    const scenes = [sceneL, sceneR]\r\n\r\n    /* ----------------------- DECLARATIONS + ASSIGNATIONS ----------------------- */\r\n    let mixer, action\r\n    var clock = new THREE.Clock()\r\n\r\n    var params = {\r\n        projection: \"normal\",\r\n        reflectivity: 1.0,\r\n        exposure: 1.0,\r\n        gemColor: \"Green\"\r\n    }\r\n    let gemBackMaterial = new THREE.MeshPhysicalMaterial({\r\n        map: null,\r\n        color: 0xff004b,\r\n        metalness: 0.0,\r\n        reflectivity: 1,\r\n        roughness: 0,\r\n        opacity: 0.4,\r\n        side: THREE.FrontSide,\r\n        transparent: true,\r\n        envMapIntensity: 5,\r\n        premultipliedAlpha: true,\r\n        depthTest: true,\r\n        depthWrite: false\r\n        // TODO: Add custom blend mode that modulates background color by this materials color.\r\n    })\r\n    let gemFrontMaterial = new THREE.MeshPhysicalMaterial({\r\n        map: null,\r\n        color: 0xff004b,\r\n        metalness: 0.0,\r\n        reflectivity: 1,\r\n        roughness: 0,\r\n        opacity: 0.2,\r\n        side: THREE.FrontSide,\r\n        transparent: true,\r\n        envMapIntensity: 5,\r\n        premultipliedAlpha: true,\r\n        depthTest: true,\r\n        depthWrite: false\r\n    })\r\n    var textureLoader = new THREE.TextureLoader()\r\n    const textureEquirec = textureLoader.load(\"/assets/img/envamp.png\")\r\n    textureEquirec.mapping = THREE.EquirectangularReflectionMapping\r\n    textureEquirec.magFilter = THREE.LinearFilter\r\n    textureEquirec.minFilter = THREE.LinearMipMapLinearFilter\r\n    // envMap.encoding = THREE.sRGBEncoding\r\n    gemFrontMaterial.envMap = gemBackMaterial.envMap = textureEquirec\r\n    gemFrontMaterial.needsUpdate = gemBackMaterial.needsUpdate = true\r\n\r\n    init()\r\n\r\n    /* ----------------------- FUNCTIONS ----------------------- */\r\n    function init() {\r\n        // CLONE GENERATE A WARNING\r\n        // const axesHelpers = new THREE.AxesHelper(10)\r\n        // sceneL.add(axesHelpers)\r\n        // sceneR.add(axesHelpers.clone())\r\n\r\n        initLights()\r\n        initMeshes()\r\n        initPersos()\r\n        initAnimationMixer()\r\n\r\n        scenes.forEach(scene => {\r\n            scene.rotation.z = -firstStep.canvasAngle\r\n        })\r\n    }\r\n\r\n    function initLights() {\r\n        sceneL.add(assets.stoneLights)\r\n        sceneR.add(assets.stoneLights.clone())\r\n        // var light1 = new THREE.DirectionalLight(0xffffff, 2)\r\n        // light1.position.set(0, 20, 0)\r\n        // sceneL.add(light1)\r\n        // sceneR.add(light1.clone())\r\n        // var light2 = new THREE.DirectionalLight(0xffffff, 0.4)\r\n        // light2.position.set(0, -20, 0)\r\n        // sceneL.add(light2)\r\n        // sceneR.add(light2.clone())\r\n        // sceneL.add(assets.globalScene)\r\n        // sceneR.add(assets.globalScene.clone())\r\n    }\r\n\r\n    function initMeshes() {\r\n        assets.cyanStone.position.set(0, 0, 15)\r\n        sceneL.add(assets.cyanStone)\r\n\r\n        assets.pinkStone.position.set(0, 0, 0)\r\n        let pinkStoneClone = assets.pinkStone.clone()\r\n        pinkStoneClone.scale.set(1, 1, 1)\r\n        assets.pinkStone.add(pinkStoneClone)\r\n\r\n        assets.pinkStone.material = gemFrontMaterial\r\n        pinkStoneClone.material = gemBackMaterial\r\n\r\n        assets.pinkStone.position.set(0, 0, 15)\r\n        sceneR.add(assets.pinkStone)\r\n\r\n        // const fog = new THREE.Fog(0x8455b3, 0, 100)\r\n        // sceneL.fog = fog\r\n        // sceneR.fog = fog\r\n    }\r\n\r\n    function initAnimationMixer() {\r\n        lamarMixer = new THREE.AnimationMixer(assets.lamarRigged)\r\n        lamarIdle = lamarMixer.clipAction(assets.lamarRigged.animations[0])\r\n        lamarReady = lamarMixer.clipAction(\r\n            assets.lamarReadyAnimation.animations[0]\r\n        )\r\n        lamarIdle.play()\r\n\r\n        zanitMixer = new THREE.AnimationMixer(assets.zanitRigged)\r\n        zanitIdle = zanitMixer.clipAction(assets.zanitRigged.animations[0])\r\n        zanitReady = zanitMixer.clipAction(\r\n            assets.zanitReadyAnimation.animations[0]\r\n        )\r\n        zanitIdle.play()\r\n    }\r\n\r\n    function initPersos() {\r\n        // Lamar\r\n        assets.lamarRigged.rotation.y = Math.PI\r\n        assets.lamarRigged.scale.set(0.08, 0.08, 0.08)\r\n        assets.lamarRigged.position.set(4, -4, 15)\r\n\r\n        // Zanit\r\n        assets.zanitRigged.rotation.y = Math.PI\r\n        assets.zanitRigged.scale.set(0.08, 0.08, 0.08)\r\n        assets.zanitRigged.position.set(-4, -4, 15)\r\n\r\n        // ADDING SVG\r\n        assets.lamarSVG.scale.set(-0.012, -0.012, -0.012)\r\n        assets.lamarSVG.position.set(7.5, 3, 18)\r\n\r\n        assets.zanitSVG.scale.set(-0.012, -0.012, -0.012)\r\n        assets.zanitSVG.position.set(-2.5, 3, 18)\r\n\r\n        // Adding mobile choice listener\r\n        threeBus.$on(\"animate perso\", perso => {\r\n            if (perso === \"lamar\") {\r\n                lamarIdle.stop()\r\n                lamarReady.play()\r\n            } else if (perso === \"zanit\") {\r\n                zanitIdle.stop()\r\n                zanitReady.play()\r\n            }\r\n        })\r\n    }\r\n\r\n    function update() {\r\n        assets.pinkStone.rotation.y += 0.001\r\n        assets.pinkStone.rotation.x += 0.001\r\n\r\n        assets.cyanStone.rotation.y += 0.001\r\n        assets.cyanStone.rotation.x += 0.001\r\n\r\n        let delta = clock.getDelta()\r\n        if (lamarMixer && zanitMixer) {\r\n            zanitMixer.update(delta)\r\n            lamarMixer.update(delta)\r\n        }\r\n    }\r\n\r\n    return {\r\n        scenes,\r\n        update\r\n    }\r\n}\r\n\r\nexport default HomeDskSceneEntity\r\n","import * as THREE from \"three\"\r\nimport * as dat from \"dat.gui\"\r\nimport { bus } from \"../../../main\"\r\nimport { threeBus } from \"../../../main\"\r\n\r\nfunction Trial1(scene, camera, assets) {\r\n    /* ----------------------- INPUTS ----------------------- */\r\n\r\n    let video\r\n    // this settimetout is necessary to wait for vuejs to actually render the <video> element\r\n    setTimeout(() => {\r\n        video = document.getElementsByTagName(\"video\")[0]\r\n    }, 0)\r\n\r\n    let time = 0\r\n    let cyanSpotLight, pinkSpotLight, cyanSpotLightHelper, pinkSpotLightHelper\r\n\r\n    let mobileQuaternionHelper, mobileQuaternionHelperDir\r\n\r\n    let cyanPosToLerp, pinkPosToLerp, raycastedCyanSpot, raycastedPinkSpot\r\n    let baseTour\r\n    let holesArr = []\r\n\r\n    // Racyaster\r\n    const raycaster = new THREE.Raycaster()\r\n    const spotLightRaycaster = new THREE.Raycaster()\r\n\r\n    const colors = {\r\n        cyan: \"#00ffff\",\r\n        pink: \"#ff00ff\",\r\n        blue: \"#0000ff\",\r\n        red: \"#ff0000\"\r\n    }\r\n\r\n    const debug = {\r\n        video: false,\r\n        canvas: false\r\n    }\r\n\r\n    const easingFactor = 0.225\r\n\r\n    // Conditions de victoire (seconds)\r\n    const defaultScaleDuration = 5\r\n    const fusionScaleDuration = 2\r\n\r\n    const maxDistanceFromHole = 1.8\r\n\r\n    // If a color scaled the shape more than this value, it win the hole\r\n    // Both win between (1 - 0.7) and 0.7\r\n    const maxColorScale = 0.7\r\n\r\n    init()\r\n    createSpotlights()\r\n    initGui()\r\n\r\n    /* ----------------------- INIT ----------------------- */\r\n    function init() {\r\n        // Helpers\r\n        const axesHelper = new THREE.AxesHelper(50)\r\n        scene.add(axesHelper)\r\n        mobileQuaternionHelper = new THREE.Mesh(\r\n            new THREE.ConeGeometry(0.8, 2.2, 4),\r\n            new THREE.MeshLambertMaterial({ color: 0x999900 })\r\n        )\r\n        mobileQuaternionHelper.position.set(3, 4, 0)\r\n        mobileQuaternionHelper.scale.set(1, 1, 0.35)\r\n        mobileQuaternionHelperDir = new THREE.Vector3()\r\n        scene.add(mobileQuaternionHelper)\r\n\r\n        // LIGHTS\r\n        // const hemisphereLight = new THREE.HemisphereLight(0xffffff, 0x080804)\r\n        // hemisphereLight.position.set(-10, 10, 0)\r\n        // scene.add(hemisphereLight)\r\n\r\n        // MODELS\r\n        // TOUR1\r\n        const tour = assets.islands\r\n        // const tourMaterial = new THREE.MeshPhongMaterial()\r\n        // Replace all materials by default\r\n        // tour.traverse(child => {\r\n        //     if (child instanceof THREE.Mesh) {\r\n        //         child.material = tourMaterial.clone()\r\n        //     }\r\n        // })\r\n\r\n        // Get tour base\r\n        tour.traverse(child => {\r\n            if (child.name.includes(\"Towerbroken\")) baseTour = child\r\n        })\r\n\r\n        // Get all holes\r\n        tour.traverse(child => {\r\n            if (child.name.includes(\"HoleFill\")) holesArr.push(child)\r\n        })\r\n        holesArr.forEach(hole => {\r\n            hole.cyanValue = 0\r\n            hole.pinkValue = 0\r\n\r\n            hole.progress = 0\r\n            hole.progressMax = 1 // 100%\r\n            hole.winner = \"None\"\r\n\r\n            hole.scaleMax = hole.scale.clone()\r\n            hole.scale.multiplyScalar(0.001)\r\n            hole.scaleMin = hole.scale.clone()\r\n        })\r\n\r\n        scene.add(tour)\r\n\r\n        // LISTENERS\r\n        threeBus.$on(\"track\", refreshTrackedDatas)\r\n        bus.$on(\"logTrial1Victorious\", checkVictoriousPlayer)\r\n    }\r\n\r\n    /* ----------------------- SPOTLIGHTS ----------------------- */\r\n    function createSpotlights() {\r\n        const spotLightParams = {\r\n            intensity: 50,\r\n            distance: 0,\r\n            angle: Math.PI / 60,\r\n            penumbra: 0.2\r\n        }\r\n        // const spotTargetPos = new THREE.Vector3()\r\n        // const spotLightPos = new THREE.Vector3(0, 0, 0)\r\n\r\n        // CYAN\r\n        // Cyan projected position on raycastShape (to Lerp to), reassigned onTrack\r\n        cyanSpotLight = new THREE.SpotLight(\r\n            colors.cyan,\r\n            ...Object.values(spotLightParams)\r\n        )\r\n        cyanSpotLight.lastTrackedBlob = null\r\n        cyanSpotLight.isTracking = false\r\n\r\n        // Cyan target\r\n        cyanSpotLight.target.position.set(0, 0, 50)\r\n        var targetGeometry = new THREE.SphereGeometry(1, 8, 8)\r\n        var targetMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff })\r\n        var targetSphere = new THREE.Mesh(targetGeometry, targetMaterial)\r\n        cyanSpotLight.target.add(targetSphere)\r\n        cyanSpotLight.add(cyanSpotLight.target)\r\n        scene.add(cyanSpotLight)\r\n\r\n        cyanSpotLightHelper = new THREE.SpotLightHelper(cyanSpotLight)\r\n        cyanSpotLightHelper.visible = true\r\n        scene.add(cyanSpotLightHelper)\r\n\r\n        // PINK\r\n        pinkSpotLight = new THREE.SpotLight(\r\n            colors.pink,\r\n            ...Object.values(spotLightParams)\r\n        )\r\n        pinkSpotLight.lastTrackedBlob = null\r\n        pinkSpotLight.isTracking = false\r\n\r\n        // Pink target\r\n        pinkSpotLight.target.position.set(0, 0, 50)\r\n        var targetGeometry = new THREE.SphereGeometry(1, 8, 8)\r\n        var targetMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff })\r\n        var targetSphere = new THREE.Mesh(targetGeometry, targetMaterial)\r\n        pinkSpotLight.target.add(targetSphere)\r\n        pinkSpotLight.add(pinkSpotLight.target)\r\n        scene.add(pinkSpotLight)\r\n\r\n        pinkSpotLightHelper = new THREE.SpotLightHelper(pinkSpotLight)\r\n        pinkSpotLightHelper.visible = true\r\n        scene.add(pinkSpotLightHelper)\r\n        scene.add(pinkSpotLight)\r\n    }\r\n\r\n    // /* ----------------------- REFRESH AND APPLY TRACKER ----------------------- */\r\n    function refreshTrackedDatas(trackedDatas) {\r\n        if (trackedDatas.cyanBlob) {\r\n            cyanSpotLight.lastTrackedBlob = trackedDatas.cyanBlob\r\n            cyanSpotLight.isTracking = true\r\n        } else {\r\n            cyanSpotLight.isTracking = false\r\n        }\r\n\r\n        if (trackedDatas.pinkBlob) {\r\n            pinkSpotLight.lastTrackedBlob = trackedDatas.pinkBlob\r\n            pinkSpotLight.isTracking = true\r\n        } else {\r\n            pinkSpotLight.isTracking = false\r\n        }\r\n    }\r\n\r\n    function applyLastTrackedDatas() {\r\n        if (cyanSpotLight.lastTrackedBlob) {\r\n            const raycastedPosFromCyanBlob = raycastedPosFromBlob(\r\n                cyanSpotLight.lastTrackedBlob\r\n            )\r\n            if (raycastedPosFromCyanBlob) {\r\n                cyanPosToLerp = raycastedPosFromCyanBlob\r\n            }\r\n        }\r\n        if (pinkSpotLight.lastTrackedBlob) {\r\n            const raycastedPosFromPinkBlob = raycastedPosFromBlob(\r\n                pinkSpotLight.lastTrackedBlob\r\n            )\r\n            if (raycastedPosFromPinkBlob) {\r\n                pinkPosToLerp = raycastedPosFromPinkBlob\r\n            }\r\n        }\r\n    }\r\n\r\n    /* ----------------------- RAYCAST ----------------------- */\r\n    function raycastedPosFromBlob(blob) {\r\n        if (blob) {\r\n            let projectedTargPos\r\n            const normalizedBlob = {\r\n                // should be between -1 -> 1\r\n                x: Math.max(Math.min(-(blob.x / video.width) * 2 + 1, 1), -1),\r\n                y: Math.max(Math.min(-(blob.y / video.height) * 2 + 1, 1), -1)\r\n            }\r\n\r\n            raycaster.setFromCamera(normalizedBlob, camera)\r\n            const intersects = raycaster.intersectObject(camera.raycastShape)\r\n            console.log(camera, intersects)\r\n\r\n            if (intersects[0]) {\r\n                projectedTargPos = intersects[0].point\r\n                return projectedTargPos\r\n            } else {\r\n                console.warn(\"'intersects[0]' does not exist\")\r\n            }\r\n        } else {\r\n            console.warn(\"blob is falsy\")\r\n        }\r\n    }\r\n\r\n    function raycastedPosFromSpot(spot) {\r\n        if (spot) {\r\n            const normalizedPos = spot.position.clone()\r\n            const normalizedTarget = spot.target.position.clone().normalize()\r\n\r\n            spotLightRaycaster.set(normalizedPos, normalizedTarget)\r\n            const intersects = spotLightRaycaster.intersectObject(baseTour)\r\n\r\n            // if (intersects[0]) {\r\n            //     projectedTargPos = intersects[0].point\r\n            //     return projectedTargPos\r\n            // } else {\r\n            //     console.error(\"'intersects[0]' does not exist\")\r\n            // }\r\n\r\n            return intersects[0] ? intersects[0].point : null\r\n        }\r\n    }\r\n\r\n    function checkVictoryHole(cyanRaycastPos, pinkRaycastPos) {\r\n        holesArr.forEach((hole, index) => {\r\n            if (hole.progress < hole.progressMax) {\r\n                // HOLE IS NOT COMPLETLY FILLED > FILL IT\r\n                let distanceHoleToCyan, distanceHoleToPink\r\n\r\n                // Get cyan / pink distances\r\n                if (cyanRaycastPos)\r\n                    distanceHoleToCyan = cyanRaycastPos.distanceTo(\r\n                        hole.position\r\n                    )\r\n\r\n                if (pinkRaycastPos)\r\n                    distanceHoleToPink = pinkRaycastPos.distanceTo(\r\n                        hole.position\r\n                    )\r\n\r\n                // Check superposition, then cyan / pink\r\n                if (\r\n                    distanceHoleToCyan < maxDistanceFromHole &&\r\n                    distanceHoleToPink < maxDistanceFromHole\r\n                ) {\r\n                    hole.pinkValue += 1 / (60 * fusionScaleDuration * 2)\r\n                    hole.cyanValue += 1 / (60 * fusionScaleDuration * 2)\r\n                } else {\r\n                    if (distanceHoleToCyan < maxDistanceFromHole) {\r\n                        hole.cyanValue += 1 / (60 * defaultScaleDuration)\r\n                    }\r\n\r\n                    if (distanceHoleToPink < maxDistanceFromHole)\r\n                        hole.pinkValue += 1 / (60 * defaultScaleDuration)\r\n                }\r\n\r\n                // Scale the hole\r\n                hole.progress = hole.cyanValue + hole.pinkValue\r\n                const newScale = hole.scaleMin\r\n                    .clone()\r\n                    .lerp(hole.scaleMax, hole.progress)\r\n\r\n                hole.scale.copy(newScale)\r\n            } else {\r\n                // HOLE IS FILLED > CHECK VICTORIOUS\r\n                // console.log(\"HOLE FILLED\")\r\n\r\n                if (hole.cyanValue >= maxColorScale) {\r\n                    // Cyan winner\r\n                    hole.winner = \"Cyan\"\r\n                    hole.material.color.set(colors.cyan)\r\n                } else if (hole.pinkValue >= maxColorScale) {\r\n                    // Pink winner\r\n                    hole.winner = \"Pink\"\r\n                    hole.material.color.set(colors.pink)\r\n                } else {\r\n                    // Both wins\r\n                    hole.winner = \"White\"\r\n                    hole.material.color.set(colors.blue)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    function checkVictoriousPlayer() {\r\n        const nbTotalHoles = holesArr.length\r\n        const nbFilledHoles =\r\n            nbTotalHoles -\r\n            holesArr.filter(hole => hole.winner === \"None\").length\r\n        const nbWhite = holesArr.filter(hole => hole.winner === \"White\").length\r\n        const nbCyan = holesArr.filter(hole => hole.winner === \"Cyan\").length\r\n        const nbPink = holesArr.filter(hole => hole.winner === \"Pink\").length\r\n\r\n        if (nbFilledHoles > nbTotalHoles / 2) {\r\n            // Check white\r\n            if (nbWhite >= nbFilledHoles / 2) {\r\n                console.log(\"Tour color is white\")\r\n            } else {\r\n                if (nbCyan > nbPink) {\r\n                    console.log(\"Tour color is cyan\")\r\n                } else if (nbPink > nbCyan) {\r\n                    console.log(\"Tour color is pink\")\r\n                } else {\r\n                    console.log(\"Restart bitch (vous vous êtes pas départager\")\r\n                }\r\n            }\r\n        } else {\r\n            console.log(\"Restart bitch\")\r\n        }\r\n    }\r\n\r\n    function update(mobileQuaternions) {\r\n        // time += 0.1\r\n        applyLastTrackedDatas()\r\n        if (cyanSpotLight.lastTrackedBlob) {\r\n            cyanSpotLight.position.lerp(cyanPosToLerp, easingFactor)\r\n            cyanSpotLight.target.position.z = camera.position.length()\r\n            cyanSpotLight.intensity = 1 + camera.position.length() * 2\r\n            cyanSpotLightHelper.update()\r\n\r\n            if (mobileQuaternions.cyan) {\r\n                const cyanQuaternion = new THREE.Quaternion(\r\n                    mobileQuaternions.cyan._x,\r\n                    mobileQuaternions.cyan._y,\r\n                    mobileQuaternions.cyan._z,\r\n                    mobileQuaternions.cyan._w\r\n                )\r\n                mobileQuaternionHelper.quaternion.copy(cyanQuaternion)\r\n\r\n                // const offsQuaternion = new THREE.Quaternion().setFromEuler(\r\n                //     new THREE.Euler(0, Math.PI / 2, 0)\r\n                // )\r\n                const camToWorldQuaternion = new THREE.Quaternion()\r\n                camera.getWorldQuaternion(camToWorldQuaternion)\r\n\r\n                cyanSpotLight.quaternion\r\n                    .copy(camToWorldQuaternion)\r\n                    // .multiply(offsQuaternion)\r\n                    .multiply(cyanQuaternion)\r\n            }\r\n        }\r\n\r\n        if (pinkSpotLight.lastTrackedBlob) {\r\n            pinkSpotLight.position.lerp(pinkPosToLerp, easingFactor)\r\n            pinkSpotLight.target.position.z = camera.position.length()\r\n            pinkSpotLight.intensity = 1 + camera.position.length() * 2\r\n            pinkSpotLightHelper.update()\r\n\r\n            if (mobileQuaternions.pink) {\r\n                const pinkQuaternion = new THREE.Quaternion(\r\n                    mobileQuaternions.pink._x,\r\n                    mobileQuaternions.pink._y,\r\n                    mobileQuaternions.pink._z,\r\n                    mobileQuaternions.pink._w\r\n                )\r\n                // const offsQuaternion = new THREE.Quaternion().setFromEuler(\r\n                //     new THREE.Euler(0, Math.PI / 2, 0)\r\n                // )\r\n                const camToWorldQuaternion = new THREE.Quaternion()\r\n                camera.getWorldQuaternion(camToWorldQuaternion)\r\n\r\n                pinkSpotLight.quaternion\r\n                    .copy(camToWorldQuaternion)\r\n                    // .multiply(offsQuaternion)\r\n                    .multiply(pinkQuaternion)\r\n            }\r\n        }\r\n\r\n        // Fill holes\r\n        checkVictoryHole(\r\n            raycastedPosFromSpot(cyanSpotLight),\r\n            raycastedPosFromSpot(pinkSpotLight)\r\n        )\r\n    }\r\n\r\n    /* ----------------------- GUI ----------------------- */\r\n    function initGui() {\r\n        // Gui\r\n        const gui = new dat.GUI()\r\n\r\n        gui.add(debug, \"video\").onChange(boolean => {\r\n            if (boolean) {\r\n                video.style.opacity = 1\r\n            } else {\r\n                video.style.opacity = 0\r\n            }\r\n        })\r\n\r\n        const spotLightHelpers = gui.addFolder(\"Spotlight Helpers\")\r\n        spotLightHelpers.add(pinkSpotLightHelper, \"visible\").name(\"Pink\")\r\n        spotLightHelpers.add(cyanSpotLightHelper, \"visible\").name(\"Cyan\")\r\n        spotLightHelpers.open()\r\n\r\n        const raycastShapeFolder = gui.addFolder(\"Raycast shape\")\r\n        raycastShapeFolder.add(camera.raycastShape.material, \"opacity\", 0, 1)\r\n        raycastShapeFolder.add(camera.raycastShape.position, \"x\", -10, 10)\r\n        raycastShapeFolder.add(camera.raycastShape.position, \"y\", -10, 10)\r\n        raycastShapeFolder.add(camera.raycastShape.position, \"z\", -15, 5)\r\n\r\n        gui.add(camera, \"logCamera\")\r\n\r\n        gui.close()\r\n    }\r\n\r\n    return {\r\n        update\r\n    }\r\n}\r\n\r\nexport default Trial1\r\n","import * as THREE from \"three\"\r\n\r\nfunction curveFromGeometry(geometry) {\r\n    // console.log(rawCamPathGeometry)\r\n    const rawXYZarr = geometry.attributes.position.array\r\n    // const withoutDuplicatesXYZarr = [...new Set(rawXYZarr)] // this can break stuff (changing order of points ???)\r\n\r\n    let camPathPoints = []\r\n    for (let i = 0; i < rawXYZarr.length / 3; i++) {\r\n        camPathPoints[i] = new THREE.Vector3(\r\n            rawXYZarr[i * 3], // x\r\n            rawXYZarr[i * 3 + 1], // y\r\n            rawXYZarr[i * 3 + 2] // z\r\n        )\r\n    }\r\n    return new THREE.CatmullRomCurve3(camPathPoints, false)\r\n}\r\n\r\n/**\r\n * Look inside group of objects, find all objects matching with the passed string, and call the function\r\n * @param {*} group Any Threejs object with children\r\n * @param {string} nameOfObj Part of the name of the objects we want\r\n * @param {function} callback The action we want to do on the found objects\r\n */\r\nfunction applyFuncOnObjs(group, nameOfObj, callback) {\r\n    if (!group.children) return\r\n    if (group.constructor.name.includes(nameOfObj)) {\r\n        callback(group)\r\n    }\r\n    group.children.map(child => {\r\n        if (child.constructor.name.includes(nameOfObj)) {\r\n            callback(child)\r\n        }\r\n        if (child.children.length > 0) {\r\n            applyFuncOnObjs(child, nameOfObj, callback)\r\n        }\r\n    })\r\n}\r\n\r\nexport { curveFromGeometry, applyFuncOnObjs }\r\n","import socket from \"../socket\"\r\nimport * as THREE from \"three\"\r\nimport { TweenLite, Power3 } from \"gsap\"\r\n\r\nimport OrbitControls from \"orbit-controls-es6\"\r\nimport CustomRenderer from \"./postprocessing/CustomRenderer\"\r\nimport CameraGroup from \"./CameraGroup\"\r\n\r\nimport HomeDskSceneEntity from \"./sceneEntities/Desktop/HomeDskSceneEntity\"\r\nimport Trial1 from \"./sceneEntities/Desktop/Trial1\"\r\nimport CanvasRotator from \"./CanvasRotator\"\r\nimport { curveFromGeometry, applyFuncOnObjs } from \"./helpers/index.js\"\r\nimport { threeBus } from \"../main\"\r\nconst firstStep = require(\"../../../server/experienceSteps.js\")[0]\r\n\r\n/**\r\n * Factory returning an object containing exposed methods.\r\n * It is responsible for managing SceneEntities and (...)\r\n * @param {HTMLCanvasElement} canvas\r\n * @param {Object} assets\r\n * @returns {Object}\r\n */\r\n\r\nfunction SceneManager(canvas, assets) {\r\n    const masterScene = new THREE.Scene()\r\n    const sceneL = new THREE.Scene()\r\n    const sceneR = new THREE.Scene()\r\n\r\n    // TODO: Pass specific assets to the sceneManager instead of all\r\n    let camera, customRenderer, controls\r\n    let currentSceneEntity, sceneEntities\r\n    let canvasAngle = firstStep.canvasAngle\r\n\r\n    let currentCameraPath = undefined\r\n    let isMovingCamera = false\r\n    let globalTweenedVars = {\r\n        camPosPercentage: 0 // 0 -> 1\r\n    }\r\n\r\n    // Time init\r\n    let LAST_TIME = Date.now()\r\n    let DELTA_TIME\r\n    let mstime = 0\r\n    let time = 0\r\n\r\n    // Quaternions from mobiles declaration\r\n    const mobileQuaternions = {\r\n        cyan: null,\r\n        pink: null\r\n    }\r\n\r\n    function init() {\r\n        // Post processing\r\n        /* TODO: Enable double scene with postprocess > look at renderpass */\r\n        const isPostProcess = false\r\n\r\n        // Fog\r\n        const fog = new THREE.FogExp2(0x8455b3, 0.008)\r\n        // const fog = new THREE.Fog(0x8455b3, 10, 200)\r\n        masterScene.fog = fog\r\n\r\n        // Shape to raycast\r\n        const raycastShape = assets.raycastShape\r\n        camera = CameraGroup(raycastShape)\r\n        camera.position.copy(firstStep.cameraPos) // initial camera's position, should be were the first camPath (OBJ file) begins\r\n        const initialTarget = assets.camTargetPoints.children.find(Object3D =>\r\n            Object3D.name.includes(\"Target00\")\r\n        )\r\n        camera.target.position.copy(initialTarget.position)\r\n        camera.lookAt(initialTarget.position)\r\n\r\n        masterScene.add(assets.nuages)\r\n        masterScene.add(assets.nuagesLights)\r\n\r\n        Object.keys(assets).map(assetName => {\r\n            setTimeout(() => {\r\n                applyFuncOnObjs(assets[assetName], \"Light\", light => {\r\n                    light.normalIntensity = light.intensity // stock intensity values (will be tweened from 0)\r\n                    light.intensity *= 1\r\n                })\r\n            }, 0)\r\n        })\r\n\r\n        // applyFuncOnObjs(assets.nuagesLights, \"Light\", light => {\r\n        //     light.intensity *= 2\r\n        // })\r\n        // applyFuncOnObjs(assets.islands, \"Light\", light => {\r\n        //     light.intensity *= 2\r\n        // })\r\n\r\n        sceneEntities = {\r\n            home: () => HomeDskSceneEntity([sceneL, sceneR], assets),\r\n            trial_1_intro: () => Trial1(masterScene, camera, assets)\r\n        }\r\n        currentSceneEntity = sceneEntities[\"home\"]()\r\n\r\n        customRenderer = CustomRenderer(\r\n            canvas,\r\n            [sceneL, sceneR],\r\n            camera,\r\n            isPostProcess\r\n        )\r\n\r\n        // controls = new OrbitControls(camera, canvas)\r\n        // controls.target = camera.target.position\r\n\r\n        threeBus.$on(\"change to step\", changeToStep)\r\n    }\r\n\r\n    function onWindowResize() {\r\n        CanvasRotator(\r\n            canvas,\r\n            camera,\r\n            customRenderer\r\n            // currentSceneEntity\r\n        ).rotateCanvas(canvasAngle)\r\n    }\r\n\r\n    function initEventsListeners() {\r\n        window.addEventListener(\"resize\", onWindowResize)\r\n        onWindowResize()\r\n\r\n        socket.on(\"dispatch cyan quaternion\", Quaternion => {\r\n            mobileQuaternions.cyan = Quaternion\r\n        })\r\n        socket.on(\"dispatch pink quaternion\", Quaternion => {\r\n            mobileQuaternions.pink = Quaternion\r\n        })\r\n    }\r\n\r\n    function animateCamOnPath({ path, delay, time, easing }) {\r\n        // TODO: use \"easing\" values from experienceSteps\r\n        const cameraPathGeometry = assets.camPaths.children.find(child => {\r\n            return child.name.includes(path) // must be something like NurbsPath00 in the blender file\r\n        }).geometry\r\n\r\n        currentCameraPath = curveFromGeometry(cameraPathGeometry)\r\n        // console.log(currentCameraPath)\r\n\r\n        TweenLite.fromTo(\r\n            globalTweenedVars,\r\n            time,\r\n            { camPosPercentage: 0 },\r\n            { camPosPercentage: 1, delay: delay, ease: Power3.easeInOut }\r\n        )\r\n    }\r\n\r\n    function animateCamTarget({ point: targetName, delay, time, easing }) {\r\n        // TODO: use \"easing\" values from experienceSteps\r\n        const nextTargetPos = assets.camTargetPoints.children.find(Object3D =>\r\n            Object3D.name.includes(targetName)\r\n        ).position\r\n\r\n        TweenLite.fromTo(\r\n            camera.target.position,\r\n            time,\r\n            {\r\n                x: camera.target.position.x,\r\n                y: camera.target.position.y,\r\n                z: camera.target.position.z\r\n            },\r\n            {\r\n                x: nextTargetPos.x,\r\n                y: nextTargetPos.y,\r\n                z: nextTargetPos.z,\r\n                delay: delay,\r\n                ease: Power3.easeInOut\r\n            }\r\n        )\r\n    }\r\n\r\n    function fadeIn(fadeInInfos) {\r\n        fadeInInfos.map(({ asset: addedAssetName, delay, time, scene }) => {\r\n            if (!assets[addedAssetName]) {\r\n                console.error(`Can't add \"${addedAssetName}\", asset not found`)\r\n            }\r\n            let localTweenedVar = { fadeInPercentage: 0 } // 0 -> 1\r\n            applyFuncOnObjs(assets[addedAssetName], \"Light\", light => {\r\n                TweenLite.fromTo(\r\n                    light,\r\n                    time,\r\n                    {\r\n                        intensity: 0\r\n                    },\r\n                    {\r\n                        delay: delay,\r\n                        intensity: light.normalIntensity\r\n                    }\r\n                )\r\n            })\r\n            applyFuncOnObjs(assets[addedAssetName], \"Mesh\", addedMesh => {\r\n                addedMesh.material.side = THREE.FrontSide\r\n                // addedMesh.material.side = THREE.DoubleSide // no good for transparency effects, only use for debug if possible\r\n                addedMesh.material.transparent = true\r\n                addedMesh.material.opacity = 0\r\n            })\r\n\r\n            switch (scene) {\r\n                case \"sceneR\":\r\n                    sceneR.add(assets[addedAssetName])\r\n                case \"sceneL\":\r\n                    sceneL.add(assets[addedAssetName])\r\n                default:\r\n                    masterScene.add(assets[addedAssetName])\r\n            }\r\n\r\n            TweenLite.to(localTweenedVar, time, {\r\n                fadeInPercentage: 1,\r\n                // NOTE: add 0.2sec to delay to avoid starting the tween while the asset is still not visible (maybe fix this later)\r\n                delay: delay + 0.2,\r\n                onUpdate: () => {\r\n                    applyFuncOnObjs(\r\n                        assets[addedAssetName],\r\n                        \"Mesh\",\r\n                        addedMesh => {\r\n                            addedMesh.material.opacity =\r\n                                localTweenedVar.fadeInPercentage\r\n                        }\r\n                    )\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    function fadeOut(fadeOutInfos) {\r\n        fadeOutInfos.map(({ asset: removedAssetName, delay, time }) => {\r\n            let localTweenedVar = { fadeOutPercentage: 1 } // 1 -> 0\r\n\r\n            if (!assets[removedAssetName]) {\r\n                console.error(\r\n                    `Can't remove \"${removedAssetName}\", asset not found`\r\n                )\r\n            }\r\n            TweenLite.to(localTweenedVar, time, {\r\n                fadeOutPercentage: 0,\r\n                delay: delay,\r\n                onUpdate: () => {\r\n                    applyFuncOnObjs(\r\n                        assets[removedAssetName],\r\n                        \"Mesh\",\r\n                        removedMesh => {\r\n                            removedMesh.material.side = THREE.FrontSide\r\n                            removedMesh.material.transparent = true\r\n                            removedMesh.material.opacity =\r\n                                localTweenedVar.fadeOutPercentage\r\n                        }\r\n                    )\r\n                    applyFuncOnObjs(\r\n                        assets[removedAssetName],\r\n                        \"Light\",\r\n                        removedLight => {\r\n                            removedLight.intensity =\r\n                                removedLight.normalIntensity *\r\n                                localTweenedVar.fadeOutPercentage // not very accurate, but may be sufficient (best accuracy would involve stocking initial intensity values for all lights)\r\n                        }\r\n                    )\r\n                },\r\n                onComplete: () => {\r\n                    sceneR.remove(assets[removedAssetName])\r\n                    sceneL.remove(assets[removedAssetName])\r\n                    masterScene.remove(assets[removedAssetName])\r\n\r\n                    applyFuncOnObjs(\r\n                        assets[removedAssetName],\r\n                        \"\",\r\n                        removedStuff => {\r\n                            if (removedStuff.dispose) removedStuff.dispose()\r\n                        }\r\n                    )\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    function changeToStep(step) {\r\n        // currentSceneEntity.scenes[0].add(camera) // for debugging, this is to display the raycastShape that is in the CameraGroup\r\n        masterScene.add(camera) // for debugging, this is to display the raycastShape that is in the CameraGroup\r\n\r\n        canvasAngle = step.canvasAngle ? step.canvasAngle : 0\r\n        CanvasRotator(canvas, camera, customRenderer).rotateCanvas(canvasAngle)\r\n\r\n        if (sceneEntities[step.name]) {\r\n            currentSceneEntity = sceneEntities[step.name]()\r\n        }\r\n        if (step.addedThreeGroupsDsk) {\r\n            fadeIn(step.addedThreeGroupsDsk)\r\n        }\r\n        if (step.removedThreeGroupsDsk) {\r\n            fadeOut(step.removedThreeGroupsDsk)\r\n        }\r\n\r\n        if (step.cameraTransition) {\r\n            if (step.cameraTransition.camPos) {\r\n                isMovingCamera = true\r\n                animateCamOnPath(step.cameraTransition.camPos)\r\n            }\r\n            if (step.cameraTransition.camTarget) {\r\n                animateCamTarget(step.cameraTransition.camTarget)\r\n            }\r\n            if (\r\n                !step.cameraTransition.camPos &&\r\n                !step.cameraTransition.camTarget\r\n            ) {\r\n                console.error(\"step.cameraTransition is not as expected\")\r\n            }\r\n        }\r\n    }\r\n\r\n    function updateTime() {\r\n        DELTA_TIME = Date.now() - LAST_TIME\r\n        LAST_TIME = Date.now()\r\n        mstime += DELTA_TIME\r\n        time = mstime * 0.001 // convert from millis to seconds\r\n    }\r\n\r\n    function update() {\r\n        requestAnimationFrame(update)\r\n        updateTime()\r\n\r\n        currentSceneEntity.update(mobileQuaternions)\r\n\r\n        if (isMovingCamera) {\r\n            camera.position.copy(\r\n                currentCameraPath.getPointAt(globalTweenedVars.camPosPercentage)\r\n            ) // 0 -> 1\r\n            if (globalTweenedVars.camPosPercentage >= 0.9999) {\r\n                isMovingCamera = false\r\n            }\r\n        }\r\n\r\n        let camTargetGlobalPos = new THREE.Vector3()\r\n        camera.target.getWorldPosition(camTargetGlobalPos) // mutate the camTargetGlobalPos variable\r\n        camera.lookAt(camTargetGlobalPos)\r\n\r\n        // customRenderer.render(currentSceneEntity.scenes, camera)\r\n        // customRenderer.render(\r\n        //     [masterScene, currentSceneEntity.scenes[0]],\r\n        //     camera\r\n        // )\r\n\r\n        // TEST FOR RENDER STUFF\r\n        customRenderer.finalRenderer.autoClear = false // important!\r\n        customRenderer.finalRenderer.clear()\r\n        customRenderer.finalRenderer.setViewport(\r\n            0,\r\n            0,\r\n            window.innerWidth,\r\n            window.innerHeight\r\n        )\r\n        customRenderer.render([masterScene], camera)\r\n\r\n        customRenderer.finalRenderer.clearDepth() // important! clear the depth buffer\r\n        customRenderer.finalRenderer.setViewport(\r\n            0,\r\n            0,\r\n            window.innerWidth,\r\n            window.innerHeight\r\n        )\r\n        // customRenderer.render(\r\n        //     [currentSceneEntity.scenes[0], currentSceneEntity.scenes[1]],\r\n        //     camera\r\n        // )\r\n        customRenderer.render([sceneL, sceneR], camera)\r\n        // TODO: customRenderer.render([sceneL, sceneR], camera)\r\n    }\r\n\r\n    return {\r\n        init,\r\n        update,\r\n        initEventsListeners\r\n    }\r\n}\r\n\r\nexport default SceneManager\r\n","import AssetLoader from \"./AssetsLoader\"\r\nimport SceneManager from \"./SceneManager\"\r\n\r\n/**\r\n * This should be the interface between VueJs and ThreeJs\r\n * It is responsible for exposing animations or other functions from Three to Vue\r\n * and initializing the ThreeJs stuff (first RAF for example)\r\n */\r\nfunction ThreeEntryPointDsk(canvas) {\r\n    let sceneManager\r\n\r\n    const loader = new AssetLoader()\r\n    // GLOBAL SCENE\r\n    loader.load(\"/assets/models/SceneGlobal.glb\", \"globalScene\", [\"scene\"])\r\n\r\n    // HOME\r\n    loader.load(\"/assets/models/home/pinkStone.glb\", \"pinkStone\", [\r\n        \"scene\",\r\n        \"children\",\r\n        \"0\"\r\n    ])\r\n    loader.load(\"/assets/models/home/cyanStone.glb\", \"cyanStone\", [\r\n        \"scene\",\r\n        \"children\",\r\n        \"0\"\r\n    ])\r\n    loader.load(\"/assets/models/home/stoneLights.glb\", \"stoneLights\", [\"scene\"])\r\n    // loader.load(\"/assets/models/home/nuages3.gltf\", \"nuages\", [\"scene\"])\r\n    loader.load(\"/assets/models/nuages.glb\", \"nuages\", [\"scene\"])\r\n    loader.load(\"/assets/models/nuagesLights.glb\", \"nuagesLights\", [\"scene\"])\r\n\r\n    // SELECTION PERSO\r\n    // loader.load(\"/assets/models/home/persos.glb\", \"persos\", [\"scene\"])\r\n    loader.load(\"/assets/models/home/persosLights.glb\", \"persosLights\", [\r\n        \"scene\"\r\n    ])\r\n    loader.load(\"/assets/models/home/lamarRigged.fbx\", \"lamarRigged\")\r\n    loader.load(\"/assets/models/home/zanitRigged.fbx\", \"zanitRigged\")\r\n    loader.load(\r\n        \"/assets/models/home/lamarReadyAnimation.fbx\",\r\n        \"lamarReadyAnimation\"\r\n    )\r\n    loader.load(\r\n        \"/assets/models/home/zanitReadyAnimation.fbx\",\r\n        \"zanitReadyAnimation\"\r\n    )\r\n    loader.load(\"/assets/img/zanit.svg\", \"zanitSVG\")\r\n    loader.load(\"/assets/img/lamar.svg\", \"lamarSVG\")\r\n\r\n    // ISLANDS\r\n    loader.load(\"/assets/models/Islands.glb\", \"islands\", [\"scene\"])\r\n\r\n    // TRIAL 1\r\n    loader.load(\"/assets/models/raycastShape.gltf\", \"raycastShape\", [\r\n        \"scene\",\r\n        \"children\",\r\n        \"0\"\r\n    ])\r\n    loader.load(\"/assets/models/Interaction13.glb\", \"tour1\")\r\n    loader.load(\"/assets/campaths/CamPaths.obj\", \"camPaths\")\r\n    loader.load(\"/assets/campaths/TargetPoints.glb\", \"camTargetPoints\", [\r\n        \"scene\"\r\n    ])\r\n\r\n    loader.onComplete(assets => {\r\n        sceneManager = SceneManager(canvas, assets)\r\n        sceneManager.init()\r\n        sceneManager.initEventsListeners()\r\n        sceneManager.update()\r\n    })\r\n}\r\n\r\nexport default ThreeEntryPointDsk\r\n","<template>\r\n    <div class=\"canvasContainer\">\r\n        <canvas ref=\"canvas\"></canvas>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ThreeEntryPointDsk from \"../../threejs/ThreeEntryPointDsk.js\"\r\nimport { threeBus } from \"../../main\"\r\n\r\nexport default {\r\n    name: \"ThreeContainerDsk\",\r\n    components: {},\r\n    props: {\r\n        roomState: Object\r\n    },\r\n    data: () => ({\r\n        threeEntryPoint: null,\r\n        camIsActive: Boolean\r\n    }),\r\n    computed: {\r\n        currentStep() {\r\n            return this.$props.roomState.currentStep\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$data.threeEntryPoint = ThreeEntryPointDsk(this.$refs.canvas)\r\n    },\r\n    methods: {\r\n        animCubeFromTo() {\r\n            threeEntryPoint.animThree\r\n        }\r\n    },\r\n    watch: {\r\n        \"roomState.currentStep\": {\r\n            handler: function(currentStep, oldStep) {\r\n                threeBus.$emit(\"change to step\", currentStep)\r\n            },\r\n            deep: true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/config/styles.scss\";\r\n\r\n.canvasContainer {\r\n    background: linear-gradient(#3e3fac, #f177be);\r\n    position: absolute;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeContainerDsk.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeContainerDsk.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ThreeContainerDsk.vue?vue&type=template&id=e13846ec&scoped=true&\"\nimport script from \"./ThreeContainerDsk.vue?vue&type=script&lang=js&\"\nexport * from \"./ThreeContainerDsk.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ThreeContainerDsk.vue?vue&type=style&index=0&id=e13846ec&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e13846ec\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvasContainer\"},[_c('canvas',{ref:\"canvas\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as THREE from \"three\"\r\nimport DeviceOrientationControls from \"three-device-orientation\"\r\nimport socket from \"../../../socket.js\"\r\nimport { bus } from \"../../../main.js\"\r\nimport { threeBus } from \"../../../main.js\"\r\n\r\n/**\r\n *\r\n * @param {*} assets\r\n */\r\nfunction CrystalSceneEntity(assets, character) {\r\n    /* ----------------------- DECLARATIONS + ASSIGNATIONS ----------------------- */\r\n    const scenes = []\r\n    let characterColor = character === \"zanit\" ? \"cyan\" : \"lamar\"\r\n    let sceneCyan, scenePink\r\n    let meshCyan, meshPink\r\n    const GyroObject3D = new THREE.Object3D()\r\n    const controls = new DeviceOrientationControls(GyroObject3D)\r\n    let hasGyro = true\r\n    // window.addEventListener(\"devicemotion\", function(event) {\r\n    //     if (\r\n    //         event.rotationRate.alpha ||\r\n    //         event.rotationRate.beta ||\r\n    //         event.rotationRate.gamma\r\n    //     )\r\n    //         hasGyro = true\r\n    // })\r\n    let usingGyro = true\r\n    let frameCount = 0\r\n\r\n    init()\r\n\r\n    /* ----------------------- FUNCTIONS ----------------------- */\r\n    function init() {\r\n        sceneCyan = new THREE.Scene()\r\n        sceneCyan.background = new THREE.Color(0x115599)\r\n\r\n        scenePink = new THREE.Scene()\r\n        scenePink.background = new THREE.Color(0x551199)\r\n\r\n        if (characterColor === \"cyan\") {\r\n            scenes.push(sceneCyan)\r\n        } else if (characterColor === \"pink\") {\r\n            scenes.push(scenePink)\r\n        }\r\n\r\n        initMeshes()\r\n    }\r\n\r\n    function initMeshes() {\r\n        var geoCyan = new THREE.IcosahedronBufferGeometry(1.33, 0)\r\n        var matCyan = new THREE.MeshBasicMaterial({ color: 0x00dddd })\r\n        meshCyan = new THREE.Mesh(geoCyan, matCyan)\r\n        sceneCyan.add(meshCyan)\r\n\r\n        var geoPink = new THREE.IcosahedronBufferGeometry(1.33, 0)\r\n        var matPink = new THREE.MeshBasicMaterial({ color: 0xdd00dd })\r\n        meshPink = new THREE.Mesh(geoPink, matPink)\r\n        scenePink.add(meshPink)\r\n    }\r\n\r\n    // function toggleGyro(bool = !usingGyro) {\r\n    //     usingGyro = bool\r\n    // }\r\n\r\n    function update() {\r\n        meshCyan.rotation.y += 0.001\r\n        meshPink.rotation.x += 0.001\r\n\r\n        controls.update()\r\n        frameCount++\r\n\r\n        console.log(\"crystalSceneEntity\")\r\n\r\n        if (hasGyro && usingGyro && frameCount % 2 === 0) {\r\n            socket.emit(`gyro ${characterColor}`, GyroObject3D.quaternion)\r\n        }\r\n    }\r\n\r\n    return {\r\n        scenes,\r\n        update\r\n        // toggleGyro\r\n    }\r\n}\r\n\r\nexport default CrystalSceneEntity\r\n","import * as THREE from \"three\"\r\nimport CSS from \"@/config/styles.scss\"\r\nimport { threeBus } from \"@/main\"\r\nimport socket from \"@/socket\"\r\nconst firstStep = require(\"../../../../../server/experienceSteps.js\")[0]\r\n\r\nfunction HomeDskSceneEntity(assets) {\r\n    /* ----------------------- INPUTS ----------------------- */\r\n    const scenes = []\r\n    let sceneL, sceneR\r\n\r\n    /* ----------------------- DECLARATIONS + ASSIGNATIONS ----------------------- */\r\n    init()\r\n\r\n    threeBus.$on(\"step creation room\", () => {\r\n        sceneL.remove(assets.cyanStone)\r\n        sceneR.remove(assets.pinkStone)\r\n    })\r\n\r\n    threeBus.$on(\"animate perso\", perso => {\r\n        console.log(\"A PLAYER HAS CHOSEN THE PERSO : \", perso)\r\n    })\r\n\r\n    /* ----------------------- FUNCTIONS ----------------------- */\r\n    function init() {\r\n        sceneL = new THREE.Scene()\r\n        // sceneL.background = new THREE.Color(CSS.blue)\r\n        scenes.push(sceneL)\r\n\r\n        sceneR = new THREE.Scene()\r\n        // sceneR.background = new THREE.Color(CSS.red)\r\n        scenes.push(sceneR)\r\n\r\n        // CLONE GENERATE A WARNING\r\n        const axesHelpers = new THREE.AxesHelper(10)\r\n        sceneL.add(axesHelpers)\r\n        // sceneR.add(axesHelpers.clone())\r\n\r\n        initLights()\r\n        initMeshes()\r\n\r\n        scenes.forEach(scene => {\r\n            scene.rotation.z = -firstStep.canvasAngle\r\n        })\r\n    }\r\n\r\n    function initLights() {\r\n        // var light1 = new THREE.DirectionalLight(0xffffff, 2)\r\n        // light1.position.set(0, 20, 0)\r\n        // sceneL.add(light1)\r\n        // sceneR.add(light1.clone())\r\n        // var light2 = new THREE.DirectionalLight(0xffffff, 0.4)\r\n        // light2.position.set(0, -20, 0)\r\n        // sceneL.add(light2)\r\n        // sceneR.add(light2.clone())\r\n    }\r\n\r\n    function initMeshes() {\r\n        assets.cyanStone.position.set(0, 0, 15)\r\n        sceneL.add(assets.cyanStone)\r\n\r\n        assets.pinkStone.position.set(0, 0, 15)\r\n        sceneR.add(assets.pinkStone)\r\n\r\n        const fog = new THREE.Fog(0x8455b3, 0, 100)\r\n        sceneL.fog = fog\r\n        sceneR.fog = fog\r\n    }\r\n\r\n    function update() {\r\n        assets.pinkStone.rotation.y += 0.001\r\n        assets.pinkStone.rotation.x += 0.001\r\n\r\n        assets.cyanStone.rotation.y += 0.001\r\n        assets.cyanStone.rotation.x += 0.001\r\n    }\r\n\r\n    return {\r\n        scenes,\r\n        update\r\n    }\r\n}\r\n\r\nexport default HomeDskSceneEntity\r\n","import OrbitControls from \"orbit-controls-es6\"\r\nimport CustomRenderer from \"./postprocessing/CustomRenderer\"\r\nimport CameraGroup from \"./CameraGroup\"\r\n\r\nimport CrystalSceneEntity from \"./sceneEntities/Mobile/CrystalSceneEntity\"\r\nimport HomeMobSceneEntity from \"./sceneEntities/Mobile/HomeMobSceneEntity\"\r\nimport CanvasRotator from \"./CanvasRotator\"\r\nimport { threeBus } from \"../main\"\r\n\r\nimport * as THREE from \"three\"\r\n\r\nconst firstStep = require(\"../../../server/experienceSteps.js\")[0]\r\n\r\n/**\r\n * Factory returning an object containing exposed methods.\r\n * It is responsible for managing SceneEntities and (...)\r\n * @param {HTMLCanvasElement} canvas\r\n * @param {Object} assets\r\n * @returns {Object}\r\n */\r\n\r\nfunction SceneManagerMob(canvas, assets) {\r\n    // TODO: Pass specific assets to the scene instead of all\r\n    let camera, customRenderer, controls\r\n    let currentSceneEntity, sceneEntities\r\n    let character\r\n\r\n    // Shape to raycast\r\n    let LAST_TIME = Date.now()\r\n    let DELTA_TIME\r\n    let mstime = 0\r\n    let time = 0\r\n\r\n    function init() {\r\n        // Post processing\r\n        /* TODO: Enable double scene with postprocess > look at renderpass */\r\n        const isPostProcess = false\r\n\r\n        // Shape to raycast\r\n        const raycastShape = assets.raycastShape\r\n        camera = CameraGroup(raycastShape)\r\n\r\n        sceneEntities = initScenesEntities()\r\n        currentSceneEntity = sceneEntities[\"home\"]()\r\n\r\n        customRenderer = CustomRenderer(\r\n            canvas,\r\n            currentSceneEntity.scenes,\r\n            camera,\r\n            isPostProcess\r\n        )\r\n\r\n        // controls = new OrbitControls(camera, canvas)\r\n        // controls.target = camera.target.position\r\n        threeBus.$on(\"change to step\", changeToStep)\r\n        threeBus.$on(\"animate perso\", perso => {\r\n            character = perso\r\n        })\r\n    }\r\n\r\n    function initScenesEntities() {\r\n        const sceneEntities = {\r\n            home: () => HomeMobSceneEntity(assets),\r\n            trial_1_intro: () => CrystalSceneEntity(assets, character)\r\n        }\r\n        return sceneEntities\r\n    }\r\n\r\n    function onWindowResize() {\r\n        CanvasRotator(\r\n            canvas,\r\n            camera,\r\n            customRenderer,\r\n            currentSceneEntity\r\n        ).rotateCanvas(firstStep.canvasAngle)\r\n    }\r\n\r\n    function initEventsListeners() {\r\n        window.addEventListener(\"resize\", onWindowResize)\r\n        onWindowResize()\r\n    }\r\n\r\n    function changeToStep(step) {\r\n        if (sceneEntities[step.name]) {\r\n            currentSceneEntity = sceneEntities[step.name]()\r\n        }\r\n\r\n        CanvasRotator(canvas, camera, customRenderer).rotateCanvas(\r\n            step.canvasAngle\r\n        )\r\n    }\r\n\r\n    function update() {\r\n        requestAnimationFrame(update)\r\n        updateTime()\r\n\r\n        camera.position.copy(new THREE.Vector3(0, 0, -10))\r\n        camera.lookAt(new THREE.Vector3(0, 0, 1))\r\n\r\n        currentSceneEntity.update()\r\n        customRenderer.render(currentSceneEntity.scenes, camera)\r\n        // customRenderer.render(currentSceneEntity.scene, camera)\r\n    }\r\n\r\n    function updateTime() {\r\n        DELTA_TIME = Date.now() - LAST_TIME\r\n        LAST_TIME = Date.now()\r\n        mstime += DELTA_TIME\r\n        time = mstime * 0.001 // convert from millis to seconds\r\n    }\r\n\r\n    return {\r\n        init,\r\n        update,\r\n        initEventsListeners\r\n    }\r\n}\r\n\r\nexport default SceneManagerMob\r\n","import AssetLoader from \"./AssetsLoader\"\r\nimport SceneManagerMob from \"./SceneManagerMob\"\r\n\r\n/**\r\n * This should be the interface between VueJs and ThreeJs\r\n * It is responsible for exposing animations or other functions from Three to Vue\r\n * and initializing the ThreeJs stuff (first RAF for example)\r\n */\r\nfunction ThreeEntryPointMob(canvas) {\r\n    let sceneManager\r\n\r\n    const loader = new AssetLoader()\r\n\r\n    // HOME\r\n    loader.load(\"/assets/models/home/pinkStone.glb\", \"pinkStone\", [\r\n        \"scene\",\r\n        \"children\",\r\n        \"0\"\r\n    ])\r\n    loader.load(\"/assets/models/home/cyanStone.glb\", \"cyanStone\", [\r\n        \"scene\",\r\n        \"children\",\r\n        \"0\"\r\n    ])\r\n\r\n    // SELECTION PERSO\r\n    // loader.load(\"/assets/models/home/lamar.glb\", \"lamar\", [\"scene\"])\r\n    // loader.load(\"/assets/models/home/zanit.glb\", \"zanit\", [\"scene\"])\r\n    loader.load(\"/assets/img/zanit.svg\", \"zanitSVG\")\r\n    loader.load(\"/assets/img/lamar.svg\", \"lamarSVG\")\r\n\r\n    // STEP 1\r\n    loader.load(\"/assets/models/raycastShape.gltf\", \"raycastShape\", [\r\n        \"scene\",\r\n        \"children\",\r\n        \"0\"\r\n    ])\r\n    loader.load(\"/assets/campaths/CamPaths.obj\", \"camPaths\")\r\n    loader.load(\"/assets/campaths/TargetPoints.glb\", \"camTargetPoints\", [\r\n        \"scene\"\r\n    ])\r\n    loader.onComplete(assets => {\r\n        sceneManager = SceneManagerMob(canvas, assets)\r\n        sceneManager.init()\r\n        sceneManager.initEventsListeners()\r\n        sceneManager.update()\r\n    })\r\n}\r\n\r\nexport default ThreeEntryPointMob\r\n","<template>\r\n    <div class=\"canvasContainer\">\r\n        <canvas ref=\"canvas\"></canvas>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ThreeEntryPointMob from \"../../threejs/ThreeEntryPointMob.js\"\r\nimport { threeBus } from \"../../main\"\r\n\r\nexport default {\r\n    name: \"ThreeContainerMob\",\r\n    props: {\r\n        roomState: Object,\r\n        character: String\r\n    },\r\n    data() {\r\n        return {\r\n            threeEntryPoint: null\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$data.threeEntryPoint = ThreeEntryPointMob(this.$refs.canvas)\r\n    },\r\n    beforeDestroy() {\r\n        tracker.removeAllListeners()\r\n    },\r\n    watch: {\r\n        \"roomState.currentStep\": {\r\n            handler: function(currentStep, oldStep) {\r\n                if (currentStep.hasMobileThreeScene) {\r\n                    threeBus.$emit(\"change to step\", currentStep)\r\n                }\r\n            },\r\n            deep: true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.canvasContainer {\r\n    background: linear-gradient(#3e3fac, #f177be);\r\n    position: absolute;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeContainerMob.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeContainerMob.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ThreeContainerMob.vue?vue&type=template&id=4a9e45bc&scoped=true&\"\nimport script from \"./ThreeContainerMob.vue?vue&type=script&lang=js&\"\nexport * from \"./ThreeContainerMob.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ThreeContainerMob.vue?vue&type=style&index=0&id=4a9e45bc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a9e45bc\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div id=\"app\">\r\n        <transition name=\"fade\">\r\n            <router-view\r\n                class=\"page\"\r\n                :isMobile=\"isMobile\"\r\n                :roomId=\"roomId\"\r\n                :roomState=\"roomState\"\r\n                :users=\"users\"\r\n                @createRoom=\"userCreateRoom\"\r\n                @joinRoom=\"userJoinRoom\"\r\n            />\r\n        </transition>\r\n\r\n        <div class=\"UIOverlay\">\r\n            <a href>About</a>\r\n            <button class=\"audio\" @click=\"toggleAudio()\" :class=\"[isAudioActive ? 'on' : 'off']\"/>\r\n        </div>\r\n\r\n        <DebugUIHelpers :users=\"users\" :roomState=\"roomState\"/>\r\n        <ThreeContainerDsk v-if=\"!isMobile\" :roomState=\"roomState\" :needsCamera=\"true\"/>\r\n        <ThreeContainerMob v-if=\"isMobile\" :roomState=\"roomState\" :character=\"myCharacter\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport socket from \"./socket.js\"\r\nimport { bus } from \"@/main\"\r\nimport { findIp } from \"./utils\"\r\nimport { checkIfMobile } from \"./utils\"\r\nimport experienceSteps from \"../../server/experienceSteps.js\" // this is reference a file outside client folder, so it's the same as the server's\r\n\r\nimport DebugUIHelpers from \"./components/DebugUIHelpers\"\r\nimport ThreeContainerDsk from \"./components/ThreeContainer/ThreeContainerDsk.vue\"\r\nimport ThreeContainerMob from \"./components/ThreeContainer/ThreeContainerMob.vue\"\r\nimport { threeBus } from \"@/main\"\r\n\r\nexport default {\r\n    name: \"app\",\r\n    components: { DebugUIHelpers, ThreeContainerDsk, ThreeContainerMob },\r\n    data() {\r\n        return {\r\n            socket: socket,\r\n            roomState: {\r\n                currentStep: experienceSteps[0],\r\n                lamar: undefined,\r\n                zanit: undefined\r\n            },\r\n            users: Array(3),\r\n            myCharacter: null,\r\n            roomId: \"\",\r\n            isMobile: checkIfMobile(),\r\n            isAudioActive: true\r\n        }\r\n    },\r\n    mounted() {\r\n        // Listen for server events\r\n        socket.on(\"joined room\", this.showRoom)\r\n        socket.on(\"cant join room\", this.showCantJoin)\r\n        socket.on(\"update users\", users => this.setUsersData(users))\r\n        socket.on(\"set user room state\", newRoomState =>\r\n            this.setOwnState(newRoomState)\r\n        )\r\n\r\n        bus.$on(\"setRoomState\", this.setRoomState)\r\n    },\r\n    methods: {\r\n        userCreateRoom() {\r\n            socket.emit(\"create room\", this.$data.isMobile)\r\n        },\r\n        userJoinRoom(requestedRoom) {\r\n            socket.emit(\"join room\", {\r\n                isMobile: this.$data.isMobile,\r\n                requestedRoom\r\n            })\r\n        },\r\n        showRoom(roomId) {\r\n            this.$router.push({ name: \"room\" })\r\n            this.$data.roomId = roomId\r\n        },\r\n        showCantJoin(roomId) {\r\n            console.error(`La salle ${roomId} demandée n'existe pas`)\r\n        },\r\n        setRoomState(changedState) {\r\n            socket.emit(\"set server room state\", changedState)\r\n        },\r\n        setOwnState(roomState) {\r\n            this.$data.roomState = roomState\r\n        },\r\n        setUsersData(newUsers) {\r\n            this.$data.users = newUsers\r\n\r\n            if (typeof this.$data.users[0] !== \"undefined\") {\r\n                const user = this.$data.users.find(\r\n                    user => user.id === socket.id\r\n                )\r\n            }\r\n        },\r\n        toggleAudio() {\r\n            this.$data.isAudioActive = !this.$data.isAudioActive\r\n        }\r\n    },\r\n    watch: {\r\n        roomState: function(roomState) {\r\n            if (roomState.currentStep.name.slice(0, 4) === \"room\") {\r\n                this.$router.push({ name: \"room\" })\r\n            }\r\n            if (roomState.currentStep.name === \"selection_perso\") {\r\n                this.$router.push({ name: \"selectionPersos\" })\r\n            }\r\n            if (roomState.currentStep.name === \"dioramas\") {\r\n                this.$router.push({ name: \"dioramas\" })\r\n            }\r\n            if (roomState.currentStep.name === \"tuto_interactif\") {\r\n                this.$router.push({ name: \"tutoInteractif\" })\r\n            }\r\n            if (roomState.currentStep.name === \"trial_1_intro\") {\r\n                this.$router.push({ name: \"experience\" })\r\n            }\r\n        },\r\n        users: function() {\r\n            const user = this.$data.users.find(user => user.id === socket.id)\r\n            this.$data.myCharacter = user.character\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n// global styles are managed here :\r\n@import \"@/config/styles.scss\";\r\n\r\n* {\r\n    box-sizing: border-box;\r\n}\r\nhtml,\r\nbody {\r\n    margin: 0;\r\n    padding: 0;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    color: $white;\r\n\r\n    #app {\r\n        font-family: \"Poppins\", Arial, Helvetica, sans-serif;\r\n        height: 100%;\r\n\r\n        .page {\r\n            // DECOMMENTER POUR ORBIT CONTROL\r\n            // pointer-events: none;\r\n            position: relative;\r\n            z-index: 10;\r\n            height: 100%;\r\n            padding: 50px;\r\n            & > button {\r\n                pointer-events: auto;\r\n            }\r\n        }\r\n\r\n        .UIOverlay {\r\n            position: absolute;\r\n            right: 30px;\r\n            top: 30px;\r\n            z-index: 10;\r\n\r\n            button.audio {\r\n                pointer-events: auto;\r\n                background-size: contain;\r\n                background-position: center;\r\n                background-repeat: no-repeat;\r\n                width: 30px;\r\n                height: 10px;\r\n                margin-left: 20px;\r\n                transition: filter 0.25s ease, background-image 0.25s ease;\r\n\r\n                &:hover {\r\n                    @extend .svgGlow;\r\n                }\r\n\r\n                &.on {\r\n                    background-image: url(\"/assets/img/sound-on.svg\");\r\n                }\r\n\r\n                &.off {\r\n                    background-image: url(\"/assets/img/sound-off.svg\");\r\n                }\r\n\r\n                img {\r\n                    display: block;\r\n                }\r\n            }\r\n        }\r\n\r\n        /* *** *** *** *** *** PAGES TRANSITIONS *** *** *** *** *** */\r\n        .fade-leave-active {\r\n            // position: absolute;\r\n            transition: opacity 0.4s;\r\n        }\r\n        .fade-leave-to {\r\n            opacity: 0;\r\n        }\r\n        .fade-enter-active {\r\n            transition: opacity 0.5s;\r\n            transition-delay: 0.4s;\r\n        }\r\n        .fade-enter {\r\n            opacity: 0;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0ab8aad2&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home\"},on:{\"mousemove\":_vm.sliderMove}},[_c('div',{ref:\"sliderBar\",staticClass:\"sliderBar\"}),_c('div',{staticClass:\"titles\"},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_c('Logo'),_c('h2',{staticClass:\"textGlow\"},[_vm._v(_vm._s(_vm.subtitle))])],1),(!_vm.isMobile)?_c('button',{on:{\"click\":_vm.createRoom}},[_vm._m(0)]):_vm._e(),(_vm.isMobile)?_c('form',{attrs:{\"action\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.joinRoom($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.requestedRoom),expression:\"requestedRoom\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Room id\"},domProps:{\"value\":(_vm.requestedRoom)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.requestedRoom=$event.target.value}}}),_c('input',{staticClass:\"bigTextButton\",attrs:{\"value\":\"Join room\",\"type\":\"submit\"}})]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outerCircle\"},[_c('div',{staticClass:\"innerCircle\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{staticClass:\"logo svgGlow\",attrs:{\"src\":\"/assets/img/logo.svg\",\"alt\":\"\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <img class=\"logo svgGlow\" src=\"/assets/img/logo.svg\" alt>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Logo\",\r\n    components: {},\r\n    props: {},\r\n    data: () => ({})\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/config/styles.scss\";\r\n</style>\r\n\r\n","import { render, staticRenderFns } from \"./Logo.vue?vue&type=template&id=87836ad8&scoped=true&\"\nimport script from \"./Logo.vue?vue&type=script&lang=js&\"\nexport * from \"./Logo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Logo.vue?vue&type=style&index=0&id=87836ad8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87836ad8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div id=\"home\" @mousemove=\"sliderMove\">\r\n        <div ref=\"sliderBar\" class=\"sliderBar\"></div>\r\n\r\n        <div class=\"titles\">\r\n            <h1>{{title}}</h1>\r\n            <Logo/>\r\n            <h2 class=\"textGlow\">{{subtitle}}</h2>\r\n        </div>\r\n\r\n        <!-- Commencer l'expérience Desktop-->\r\n        <button v-if=\"!isMobile\" @click=\"createRoom\">\r\n            <div class=\"outerCircle\">\r\n                <div class=\"innerCircle\"></div>\r\n            </div>\r\n        </button>\r\n\r\n        <form v-if=\"isMobile\" action @submit.prevent=\"joinRoom\">\r\n            <input type=\"text\" v-model=\"requestedRoom\" placeholder=\"Room id\">\r\n            <input class=\"bigTextButton\" value=\"Join room\" type=\"submit\">\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport io from \"socket.io-client\"\r\nimport { threeBus } from \"@/main\"\r\nimport CanvasRotator from \"@/threejs/CanvasRotator\"\r\nconst firstStep = require(\"../../../server/experienceSteps.js\")[0]\r\nimport Logo from \"@/components/Logo\"\r\n\r\nexport default {\r\n    name: \"home\",\r\n    components: {\r\n        Logo\r\n    },\r\n    props: {\r\n        isMobile: Boolean\r\n    },\r\n    data: () => ({\r\n        title: \"Pluriel\",\r\n        subtitle: \"Une expérience singulière\",\r\n        requestedRoom: \"\"\r\n    }),\r\n    methods: {\r\n        createRoom(event) {\r\n            this.$emit(\"createRoom\")\r\n            threeBus.$emit(\"step creation room\")\r\n        },\r\n        joinRoom(event) {\r\n            this.$emit(\"joinRoom\", this.$data.requestedRoom)\r\n        },\r\n        sliderMove(e) {\r\n            if (this.$refs.sliderBar)\r\n                this.$refs.sliderBar.style.left = `calc(50% + (${\r\n                    e.pageX\r\n                }px - 50%) * 0.45)`\r\n        }\r\n    },\r\n    mounted() {\r\n        CanvasRotator().rotateCSS(this.$refs.sliderBar, firstStep.canvasAngle)\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/config/styles.scss\";\r\n\r\n#home {\r\n    text-align: center;\r\n    font-size: 15px;\r\n    display: grid;\r\n    align-items: center;\r\n    justify-content: stretch;\r\n    grid-template-rows: 3fr 0.5fr;\r\n    color: $white;\r\n    user-select: none;\r\n    box-sizing: border-box;\r\n\r\n    .sliderBar {\r\n        position: absolute;\r\n        width: 5px;\r\n        height: 40vw;\r\n        background-color: #cbb2ff;\r\n        left: 50%;\r\n        top: 50%;\r\n        z-index: -2;\r\n        border-radius: 10px;\r\n        transform: translate(-50%, -50%) rotate(35deg);\r\n    }\r\n\r\n    .titles {\r\n        * {\r\n            margin: 0;\r\n        }\r\n\r\n        h1 {\r\n            text-transform: uppercase;\r\n            font-size: 150px;\r\n            letter-spacing: 15px;\r\n            // For SEO\r\n            text-indent: -999999px;\r\n            position: absolute;\r\n        }\r\n\r\n        .logo {\r\n            fill: #fff;\r\n            max-width: 600px;\r\n            -webkit-user-drag: none;\r\n            -khtml-user-drag: none;\r\n            -moz-user-drag: none;\r\n            -o-user-drag: none;\r\n        }\r\n\r\n        h2 {\r\n            margin-top: -30px;\r\n            font-weight: normal;\r\n            font-size: 24px;\r\n        }\r\n    }\r\n\r\n    button {\r\n        color: $white;\r\n        text-transform: uppercase;\r\n        padding: 15px 25px;\r\n        justify-self: center;\r\n        align-self: flex-end;\r\n\r\n        div.outerCircle {\r\n            border: solid 4px $white;\r\n            width: 50px;\r\n            height: 50px;\r\n            border-radius: 50%;\r\n            transition: transform 0.5s ease;\r\n            position: relative;\r\n\r\n            &:hover {\r\n                transform: scale(1.15);\r\n            }\r\n\r\n            div.innerCircle {\r\n                width: 100%;\r\n                height: 100%;\r\n                border: solid 1px $white;\r\n                border-radius: 100%;\r\n\r\n                animation: pulse 1.5s infinite ease-in;\r\n            }\r\n        }\r\n    }\r\n\r\n    @keyframes pulse {\r\n        0% {\r\n            transform: scale(1.1);\r\n        }\r\n        100% {\r\n            transform: scale(1.8);\r\n            opacity: 0;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=991ebc7a&scoped=true&\"\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&id=991ebc7a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"991ebc7a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"roomUI\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomState.currentStep.name === 'room_waiting'),expression:\"roomState.currentStep.name === 'room_waiting'\"}],ref:\"dispositif\",staticClass:\"dispositif\"},[_vm._m(0),_vm._m(1)]),_c('div',{ref:\"connexion\",staticClass:\"connexion\"},[(_vm.roomState.currentStep.name === 'room_waiting')?_c('div',[_vm._m(2),_c('div',{staticClass:\"roomId textGlow\"},[_vm._v(_vm._s(_vm.roomId))]),_c('div',{staticClass:\"playersLeft\"},[_vm._v(\"En attente de \"+_vm._s(2 - _vm.mobileUsersCount)+\" joueurs...\")])]):_vm._e(),(_vm.roomState.currentStep.name === 'room_waiting')?_c('div',{staticClass:\"mobilesWaiting\"},[_c('div',[_c('PictoMobile',{staticClass:\"mobile\",attrs:{\"isActive\":_vm.mobileUsersCount > 0}}),_c('p',{ref:\"player1ready\"},[_vm._v(\"Joueur 1 est prêt\")])],1),_c('img',{class:_vm.mobileUsersCount > 0 ? 'active circle' : 'circle',attrs:{\"src\":\"/assets/img/circle.svg\",\"alt\":\"\"}}),_c('img',{staticClass:\"svgGlow horizontalLine\",attrs:{\"src\":\"/assets/img/horizontal-line.svg\",\"alt\":\"\"}}),_c('img',{class:_vm.mobileUsersCount > 1 ? 'active circle' : 'circle',attrs:{\"src\":\"/assets/img/circle.svg\",\"alt\":\"\"}}),_c('div',[_c('PictoMobile',{staticClass:\"mobile\",attrs:{\"isActive\":_vm.mobileUsersCount > 1}}),_c('p',{ref:\"player2ready\"},[_vm._v(\"Joueur 2 est prêt\")])],1)]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"description textGlow\"},[_vm._v(\"\\n            Vous devrez être\\n            \"),_c('b',[_vm._v(\"2 joueurs\")]),_vm._v(\" ayant chacun un smartphone pour réaliser l’expérience.\\n        \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"illustration\"},[_c('div',{staticClass:\"desktop\"},[_c('img',{staticClass:\"svgGlow\",attrs:{\"src\":\"/assets/img/icon-desktop.svg\",\"alt\":\"\"}}),_c('img',{staticClass:\"svgGlow verticalLine\",attrs:{\"src\":\"/assets/img/vertical-line.svg\",\"alt\":\"\"}})]),_c('div',{staticClass:\"mobiles\"},[_c('img',{staticClass:\"svgGlow mobile\",attrs:{\"src\":\"/assets/img/icon-mobile.svg\",\"alt\":\"\"}}),_c('img',{staticClass:\"svgGlow circle\",attrs:{\"src\":\"/assets/img/circle.svg\",\"alt\":\"\"}}),_c('img',{staticClass:\"svgGlow horizontalLine\",attrs:{\"src\":\"/assets/img/horizontal-line.svg\",\"alt\":\"\"}}),_c('img',{staticClass:\"svgGlow circle\",attrs:{\"src\":\"/assets/img/circle.svg\",\"alt\":\"\"}}),_c('img',{staticClass:\"svgGlow mobile\",attrs:{\"src\":\"/assets/img/icon-mobile.svg\",\"alt\":\"\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"description textGlow\"},[_vm._v(\"\\n                Connectez-vous grâce à votre mobile sur\\n                \"),_c('b',[_vm._v(\"pluriel-xp.com\")]),_vm._v(\", et rentrez ce code :\\n            \")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{staticClass:\"picto\",class:_vm.isActive ? 'active' : '',attrs:{\"src\":\"/assets/img/icon-desktop.svg\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <img class=\"picto\" :class=\"isActive ? 'active' : ''\" src=\"/assets/img/icon-desktop.svg\">\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"PictoDesktop\",\r\n    props: {\r\n        isActive: { type: Boolean, default: true }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/config/styles.scss\";\r\n\r\n.picto {\r\n    height: 100px;\r\n    opacity: 0.1;\r\n    transition: all 0.4s ease;\r\n}\r\n.active {\r\n    opacity: 1;\r\n    @extend .svgGlow;\r\n}\r\n</style>\r\n\r\n","import { render, staticRenderFns } from \"./PictoDesktop.vue?vue&type=template&id=36c6d552&scoped=true&\"\nimport script from \"./PictoDesktop.vue?vue&type=script&lang=js&\"\nexport * from \"./PictoDesktop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PictoDesktop.vue?vue&type=style&index=0&id=36c6d552&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36c6d552\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{staticClass:\"picto\",class:_vm.isActive ? 'active' : '',attrs:{\"src\":\"/assets/img/icon-mobile.svg\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./PictoMobile.vue?vue&type=template&id=4e984c26&scoped=true&\"\nimport script from \"./PictoMobile.vue?vue&type=script&lang=js&\"\nexport * from \"./PictoMobile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PictoMobile.vue?vue&type=style&index=0&id=4e984c26&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e984c26\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"roomUI\">\r\n        <!-- TUTO DISPOSITIF -->\r\n        <div\r\n            class=\"dispositif\"\r\n            ref=\"dispositif\"\r\n            v-show=\"roomState.currentStep.name === 'room_waiting'\"\r\n        >\r\n            <div class=\"description textGlow\">\r\n                Vous devrez être\r\n                <b>2 joueurs</b> ayant chacun un smartphone pour réaliser l’expérience.\r\n            </div>\r\n\r\n            <div class=\"illustration\">\r\n                <div class=\"desktop\">\r\n                    <img class=\"svgGlow\" src=\"/assets/img/icon-desktop.svg\" alt>\r\n                    <img class=\"svgGlow verticalLine\" src=\"/assets/img/vertical-line.svg\" alt>\r\n                </div>\r\n\r\n                <div class=\"mobiles\">\r\n                    <img class=\"svgGlow mobile\" src=\"/assets/img/icon-mobile.svg\" alt>\r\n                    <img class=\"svgGlow circle\" src=\"/assets/img/circle.svg\" alt>\r\n                    <img class=\"svgGlow horizontalLine\" src=\"/assets/img/horizontal-line.svg\" alt>\r\n                    <img class=\"svgGlow circle\" src=\"/assets/img/circle.svg\" alt>\r\n                    <img class=\"svgGlow mobile\" src=\"/assets/img/icon-mobile.svg\" alt>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- CONNEXION ROOM -->\r\n        <div ref=\"connexion\" class=\"connexion\">\r\n            <div v-if=\"roomState.currentStep.name === 'room_waiting'\">\r\n                <div class=\"description textGlow\">\r\n                    Connectez-vous grâce à votre mobile sur\r\n                    <b>pluriel-xp.com</b>, et rentrez ce code :\r\n                </div>\r\n\r\n                <div class=\"roomId textGlow\">{{ roomId }}</div>\r\n                <div class=\"playersLeft\">En attente de {{2 - mobileUsersCount}} joueurs...</div>\r\n            </div>\r\n\r\n            <div class=\"mobilesWaiting\" v-if=\"roomState.currentStep.name === 'room_waiting'\">\r\n                <div>\r\n                    <PictoMobile class=\"mobile\" :isActive=\"mobileUsersCount > 0\"/>\r\n                    <p ref=\"player1ready\">Joueur 1 est prêt</p>\r\n                </div>\r\n\r\n                <img\r\n                    :class=\"mobileUsersCount > 0 ? 'active circle' : 'circle'\"\r\n                    src=\"/assets/img/circle.svg\"\r\n                    alt\r\n                >\r\n                <img class=\"svgGlow horizontalLine\" src=\"/assets/img/horizontal-line.svg\" alt>\r\n                <img\r\n                    :class=\"mobileUsersCount > 1 ? 'active circle' : 'circle'\"\r\n                    src=\"/assets/img/circle.svg\"\r\n                    alt\r\n                >\r\n\r\n                <div>\r\n                    <PictoMobile class=\"mobile\" :isActive=\"mobileUsersCount > 1\"/>\r\n                    <p ref=\"player2ready\">Joueur 2 est prêt</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!--<button\r\n            class=\"bigTextButton\"\r\n            v-if=\"roomState.currentStep.name === 'room_ready'\"\r\n            @click=\"setRoomState({currentStep: { name:'NEXT' }})\"\r\n        >Let's go</button>-->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { TweenMax, Power2 } from \"gsap/TweenMax\"\r\nimport PictoDesktop from \"../components/PictoDesktop\"\r\nimport PictoMobile from \"../components/PictoMobile\"\r\nimport socket from \"@/socket\"\r\n\r\nimport { bus } from \"@/main\"\r\n\r\nexport default {\r\n    name: \"room\",\r\n    components: {\r\n        PictoDesktop,\r\n        PictoMobile\r\n    },\r\n    props: {\r\n        roomId: String,\r\n        isMobile: Boolean,\r\n        users: Array,\r\n        roomState: Object\r\n    },\r\n    data() {\r\n        return {\r\n            isDebugMode: true\r\n        }\r\n    },\r\n    computed: {\r\n        desktopUsersCount() {\r\n            return this.$props.users.filter(user => !user.isMobile).length\r\n        },\r\n        mobileUsersCount() {\r\n            const mobileCount = this.$props.users.filter(user => user.isMobile)\r\n                .length\r\n            return mobileCount\r\n        }\r\n    },\r\n    mounted: function() {\r\n        if (this.isMobile) {\r\n            var noSleep = new NoSleep()\r\n            noSleep.enable() // keep the screen on!\r\n        }\r\n\r\n        // TODO: use CSS and the current step name instead of GSAP?\r\n        const tl = new TimelineLite()\r\n\r\n        tl.to(this.$refs.dispositif, 2, {\r\n            opacity: 0,\r\n            delay: 0.5,\r\n            ease: Power2.easeIn,\r\n            onComplete: () => {\r\n                if (this.$refs.dispositif) {\r\n                    this.$refs.dispositif.style.display = \"none\"\r\n                    this.$refs.connexion.style.display = \"flex\"\r\n                }\r\n            }\r\n        })\r\n\r\n        tl.to(this.$refs.connexion, 1, { opacity: 1, ease: Power2.easeOut })\r\n\r\n        // Socket listeners\r\n        socket.on(\"playerOneReady\", () => {\r\n            console.log(\"the player one is ready\")\r\n            TweenMax.to(this.$refs.player1ready, 1, {\r\n                opacity: 1,\r\n                ease: Power2.easeOut\r\n            })\r\n        })\r\n\r\n        socket.on(\"playerTwoReady\", () => {\r\n            console.log(\"the player two is ready\")\r\n            TweenMax.to(this.$refs.player2ready, 1, {\r\n                opacity: 1,\r\n                ease: Power2.easeOut\r\n            })\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/config/styles.scss\";\r\n\r\n.roomUI {\r\n    text-align: center;\r\n    color: $white;\r\n    font-size: 24px;\r\n    font-weight: lighter;\r\n\r\n    .description {\r\n        margin: 0 auto;\r\n        max-width: 580px;\r\n    }\r\n\r\n    .dispositif {\r\n        position: relative;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n\r\n        .illustration {\r\n            margin-top: 80px;\r\n\r\n            .desktop {\r\n                display: flex;\r\n                flex-direction: column;\r\n\r\n                .verticalLine {\r\n                    margin-top: 30px;\r\n                }\r\n            }\r\n\r\n            .mobiles {\r\n                margin-top: -30px;\r\n                display: flex;\r\n                justify-content: center;\r\n\r\n                .circle {\r\n                    margin: 0 10px;\r\n                }\r\n\r\n                .mobile {\r\n                    margin: 0 20px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .connexion {\r\n        width: 100%;\r\n        height: 100%;\r\n        display: none;\r\n        opacity: 0;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        background: rgba(0, 0, 0, 0.35);\r\n\r\n        .roomId {\r\n            font-size: 100px;\r\n            letter-spacing: 80px;\r\n            text-indent: 80px;\r\n            font-weight: 300;\r\n            margin-top: 20px;\r\n            margin-bottom: 50px;\r\n            text-align: center;\r\n        }\r\n\r\n        .playersLeft {\r\n            font-size: 18px;\r\n            margin-bottom: 30px;\r\n        }\r\n\r\n        .mobilesWaiting {\r\n            display: flex;\r\n            .circle {\r\n                margin: 0 10px;\r\n                opacity: 0.5;\r\n\r\n                &.active {\r\n                    opacity: 1;\r\n                    @extend .svgGlow;\r\n                }\r\n            }\r\n\r\n            > div {\r\n                p {\r\n                    opacity: 0;\r\n                    margin: 0;\r\n                    margin-top: 10px;\r\n                    font-size: 15px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./room.vue?vue&type=template&id=1d64e1d5&scoped=true&\"\nimport script from \"./room.vue?vue&type=script&lang=js&\"\nexport * from \"./room.vue?vue&type=script&lang=js&\"\nimport style0 from \"./room.vue?vue&type=style&index=0&id=1d64e1d5&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d64e1d5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomState.currentStep.name === 'selection_perso'),expression:\"roomState.currentStep.name === 'selection_perso'\"}],staticClass:\"selectionPerso\"},[(!_vm.isMobile)?_c('div',[_c('h2',{staticClass:\"textGlow\"},[_vm._v(\"Qui incarnerez-vous ?\")]),_c('div',{staticClass:\"textGlow\"},[_vm._v(\"Sélectionnez un personnage sur votre téléphone\")]),_c('div',{staticClass:\"playerContainer\"},[_c('p',{ref:\"player1\",staticClass:\"textGlow\"},[_vm._v(_vm._s(_vm.lamarPlayer)+\" est Lamar\")]),_c('p'),_c('p',{ref:\"player2\",staticClass:\"textGlow\"},[_vm._v(_vm._s(_vm.zanitPlayer)+\" est Zanit\")])])]):_vm._e(),(_vm.isMobile)?_c('div',[(_vm.isMobile)?_c('button',{on:{\"~click\":function($event){return _vm.choosePerso($event)}}},[_vm._v(\"LAMAR\")]):_vm._e(),(_vm.isMobile)?_c('button',{on:{\"~click\":function($event){return _vm.choosePerso($event)}}},[_vm._v(\"ZANIT\")]):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"selectionPerso\" v-show=\"roomState.currentStep.name === 'selection_perso'\">\r\n        <!-- CHOIX DES PERSOS DESKTOP-->\r\n        <div v-if=\"!isMobile\">\r\n            <h2 class=\"textGlow\">Qui incarnerez-vous ?</h2>\r\n\r\n            <div class=\"textGlow\">Sélectionnez un personnage sur votre téléphone</div>\r\n\r\n            <div class=\"playerContainer\">\r\n                <p ref=\"player1\" class=\"textGlow\">{{lamarPlayer}} est Lamar</p>\r\n                <p></p>\r\n                <p ref=\"player2\" class=\"textGlow\">{{zanitPlayer}} est Zanit</p>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- CHOIX DES PERSOS MOBILE-->\r\n        <div v-if=\"isMobile\">\r\n            <button v-if=\"isMobile\" @click.once=\"choosePerso\">LAMAR</button>\r\n\r\n            <button v-if=\"isMobile\" @click.once=\"choosePerso\">ZANIT</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { TweenMax, Power2 } from \"gsap/TweenMax\"\r\nimport socket from \"@/socket\"\r\nimport { bus } from \"@/main\"\r\nimport { threeBus } from \"@/main\"\r\n\r\nexport default {\r\n    name: \"room\",\r\n    components: {},\r\n    props: {\r\n        isMobile: Boolean,\r\n        roomState: Object\r\n    },\r\n    data: () => ({\r\n        lamarPlayer: undefined,\r\n        zanitPlayer: undefined\r\n    }),\r\n    computed: {},\r\n    watch: {\r\n        \"roomState.lamar\": {\r\n            handler: function(currentLamar, oldLamar) {\r\n                if (currentLamar !== oldLamar && currentLamar !== undefined) {\r\n                    threeBus.$emit(\"animate perso\", \"lamar\")\r\n                    this.$data.lamarPlayer =\r\n                        currentLamar === this.$props.roomState.player1\r\n                            ? \"Joueur 1\"\r\n                            : \"Joueur 2\"\r\n                    this.$refs.player1.style.opacity = 1\r\n                }\r\n            },\r\n            deep: true\r\n        },\r\n        \"roomState.zanit\": {\r\n            handler: function(currentZanit, oldZanit) {\r\n                if (currentZanit !== oldZanit && currentZanit !== undefined) {\r\n                    threeBus.$emit(\"animate perso\", \"zanit\")\r\n                    this.$data.zanitPlayer =\r\n                        currentZanit === this.$props.roomState.player1\r\n                            ? \"Joueur 1\"\r\n                            : \"Joueur 2\"\r\n                    this.$refs.player2.style.opacity = 1\r\n                }\r\n            },\r\n            deep: true\r\n        },\r\n        \"roomState\": {\r\n            handler: function(currentRoomState, oldRoomState) {\r\n                if (currentRoomState.currentStep.name === \"selection_perso\" && currentRoomState.zanit !== undefined && currentRoomState.lamar !== undefined) {\r\n                    console.log(\"NEXTT\", currentRoomState)\r\n                    this.setRoomState({currentStep: {name:'dioramas'}})\r\n                }\r\n            },\r\n            deep: true\r\n        }\r\n    },\r\n    methods: {\r\n        choosePerso(e) {\r\n            const perso = e.target.innerText\r\n\r\n            if (perso === \"LAMAR\") {\r\n                e.target.style.opacity = \"0.2\"\r\n                this.setRoomState({ lamar: socket.id })\r\n            } else if (perso === \"ZANIT\") {\r\n                e.target.style.opacity = \"0.2\"\r\n                this.setRoomState({ zanit: socket.id })\r\n            }\r\n        },\r\n\r\n        setRoomState(stateObj) {\r\n            bus.$emit(\"setRoomState\", stateObj)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/config/styles.scss\";\r\n\r\n.selectionPerso {\r\n    color: $white;\r\n    text-align: center;\r\n\r\n    button {\r\n        border: solid 1px red;\r\n        background-color: $black;\r\n        color: $white;\r\n        display: block;\r\n        margin: 50px auto;\r\n        padding: 25px 50px;\r\n    }\r\n\r\n    .playerContainer {\r\n        display: flex;\r\n        width: 100%;\r\n        justify-content: space-around;\r\n        max-width: 1400px;\r\n        margin: 70px auto 0;\r\n\r\n        p {\r\n            opacity: 0;\r\n            font-style: italic;\r\n            font-size: 18px;\r\n            transition: opacity 1s ease;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectionPersos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectionPersos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./selectionPersos.vue?vue&type=template&id=09461592&scoped=true&\"\nimport script from \"./selectionPersos.vue?vue&type=script&lang=js&\"\nexport * from \"./selectionPersos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectionPersos.vue?vue&type=style&index=0&id=09461592&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09461592\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.roomState.currentStep.name.slice(0,7) === 'diorama')?_c('div',{staticClass:\"dioramas\"},[_c('div',{staticClass:\"videoContainer\"},[_c('video',{ref:\"video\",attrs:{\"src\":\"/assets/videos/pluriel3.mp4\",\"autoplay\":\"\"}})]),_c('button',{staticClass:\"skip\",on:{\"~click\":function($event){return _vm.onSkip($event)}}},[_vm._v(\"Passer\")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"dioramas\" v-if=\"roomState.currentStep.name.slice(0,7) === 'diorama'\">\r\n        <div class=\"videoContainer\">\r\n            <video ref=\"video\" src=\"/assets/videos/pluriel3.mp4\" autoplay></video>\r\n        </div>\r\n\r\n        <button class=\"skip\" @click.once=\"onSkip\">Passer</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { bus } from \"@/main\"\r\n\r\nexport default {\r\n    name: \"experience\",\r\n    components: {},\r\n    props: {\r\n        roomState: Object\r\n    },\r\n    data() {\r\n        return {}\r\n    },\r\n    props: {\r\n        roomId: String,\r\n        isMobile: Boolean,\r\n        users: Array,\r\n        roomState: Object\r\n    },\r\n    methods: {\r\n        onSkip() {\r\n            bus.$emit(\"setRoomState\", {currentStep: {name:'NEXT'}})\r\n        }\r\n    },\r\n    mounted: function() {\r\n        this.$refs.video.addEventListener(\"ended\", this.onSkip)\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/config/styles.scss\";\r\n\r\ndiv.dioramas {\r\n    padding: 0!important;\r\n\r\n    .videoContainer{\r\n        background-color: $black;\r\n        height: 100%;\r\n\r\n        video{\r\n            position: absolute;\r\n            top: 50%;\r\n            left: 50%;\r\n            -webkit-transform: translate3d(-50%,-50%,0);\r\n            transform: translate3d(-50%,-50%,0);\r\n            width: 100%;\r\n            height: auto;\r\n        }\r\n    }\r\n\r\n    .skip{\r\n        color: $white;\r\n        position: absolute;\r\n        bottom: 30px;\r\n        right: 30px;\r\n        text-transform: uppercase;\r\n\r\n          &:hover {\r\n            @extend .textGlow;\r\n        }\r\n    }\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dioramas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dioramas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dioramas.vue?vue&type=template&id=12351b48&scoped=true&\"\nimport script from \"./dioramas.vue?vue&type=script&lang=js&\"\nexport * from \"./dioramas.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dioramas.vue?vue&type=style&index=0&id=12351b48&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12351b48\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('video',{ref:\"video\",attrs:{\"width\":\"341\",\"height\":\"256\",\"autoplay\":\"\",\"muted\":\"\"},domProps:{\"muted\":true}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function Tracker(video) {\r\n    const tracker = new tracking.ColorTracker([\"cyan\", \"magenta\"])\r\n    let cyanBlob, pinkBlob\r\n\r\n    function onTrack(callback) {\r\n        tracking.track(video, tracker, { camera: true })\r\n        tracker.on(\"track\", event => {\r\n            if (event.data.length > 0) {\r\n                const cyanBlobs = event.data.filter(\r\n                    blob => blob.color === \"cyan\"\r\n                )\r\n                const pinkBlobs = event.data.filter(\r\n                    blob => blob.color === \"magenta\"\r\n                )\r\n\r\n                // console.log({ cyanBlobs })\r\n                if (cyanBlobs.length > 0) {\r\n                    // console.log(\"tracking cyan\")\r\n                    if (cyanBlobs.length === 1) {\r\n                        cyanBlob = cyanBlobs[0]\r\n                    } else if (cyanBlobs.length > 1) {\r\n                        cyanBlob = getAverageBlob(cyanBlobs)\r\n                    }\r\n                }\r\n\r\n                // console.log({ pinkBlobs })\r\n                if (pinkBlobs.length > 0) {\r\n                    // console.log(\"tracking magenta\")\r\n                    if (pinkBlobs.length === 1) {\r\n                        pinkBlob = pinkBlobs[0]\r\n                    } else if (pinkBlobs.length > 1) {\r\n                        pinkBlob = getAverageBlob(pinkBlobs)\r\n                    }\r\n                }\r\n\r\n                callback({ cyanBlob, pinkBlob })\r\n            }\r\n        })\r\n    }\r\n\r\n    function getAverageBlob(blobsArray) {\r\n        const averageBlob = blobsArray.reduce((prevBlob, currBlob) => ({\r\n            x: prevBlob.x + currBlob.x,\r\n            y: prevBlob.y + currBlob.y,\r\n            width: prevBlob.width + currBlob.width,\r\n            height: prevBlob.height + currBlob.height\r\n        }))\r\n\r\n        Object.keys(averageBlob).map(key => {\r\n            averageBlob[key] /= blobsArray.length\r\n        })\r\n\r\n        return averageBlob\r\n    }\r\n\r\n    return {\r\n        onTrack\r\n    }\r\n}\r\n\r\nexport default Tracker\r\n","<template>\r\n    <video ref=\"video\" width=\"341\" height=\"256\" autoplay muted/>\r\n</template>\r\n\r\n<script>\r\nimport Tracker from \"../threejs/sceneEntities/tracker/Tracker.js\"\r\n\r\nimport { threeBus } from \"../main\"\r\n\r\nexport default {\r\n    name: \"TrackerVideo\",\r\n    props: {\r\n        hasStarted: false\r\n    },\r\n    data: () => ({\r\n        tracker: null\r\n    }),\r\n    methods: {\r\n        /* ----------------------- TRACKER ----------------------- */\r\n        startTracker() {\r\n            this.tracker = Tracker(this.$refs.video)\r\n            this.tracker.onTrack(trackedDatas => {\r\n                threeBus.$emit(\"track\", trackedDatas)\r\n            })\r\n        }\r\n    },\r\n    watch: {\r\n        hasStarted() {\r\n            if (this.hasStarted === true) {\r\n                this.startTracker()\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        if (this.hasStarted === true) {\r\n            this.startTracker()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nvideo {\r\n    transform: scaleX(-1);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackerVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackerVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrackerVideo.vue?vue&type=template&id=60abc24c&scoped=true&\"\nimport script from \"./TrackerVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./TrackerVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TrackerVideo.vue?vue&type=style&index=0&id=60abc24c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60abc24c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"tutoInteractif\">\r\n        <div class=\"camDetection\" :class=\"camIsActive === true ? 'camIsActive' : ''\">\r\n            <p class=\"textGlow\">Vous avez besoin de la webcam pour profiter de l’expérience</p>\r\n            <img class=\"svgGlow mobile\" src=\"/assets/img/webcam.svg\" alt>\r\n            <p class=\"textGlow\">Activez votre webcam pour continuer</p>\r\n        </div>\r\n\r\n        <div class=\"tutoExplanation\" :class=\"camIsActive === true ? 'camIsActive' : ''\">\r\n            <h2 class=\"textGlow\">Faites à présent usage de vos amulettes</h2>\r\n\r\n            <div class=\"explanationContainer\">\r\n                <TrackerVideo :hasStarted=\"camIsActive\" v-show=\"this.uiDatas.isDebugMode\"/>\r\n\r\n                <div>\r\n                    <p>Orientez l’écran de vos téléphones face à la webcam</p>\r\n                    <img class=\"svgGlow mobile\" src=\"/assets/img/tuto.svg\" alt>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport TrackerVideo from \"@/components/TrackerVideo.vue\"\r\nimport { TweenMax, Power2, TimelineLite } from \"gsap/TweenMax\"\r\nimport { threeBus } from \"@/main\"\r\n\r\nexport default {\r\n    name: \"experience\",\r\n    components: { TrackerVideo },\r\n    props: {\r\n        roomState: Object\r\n    },\r\n    data: () => ({\r\n        uiDatas: {\r\n            isDebugMode: true\r\n        },\r\n        camIsActive: Boolean\r\n    }),\r\n    props: {\r\n        roomId: String,\r\n        isMobile: Boolean,\r\n        users: Array,\r\n        roomState: Object\r\n    },\r\n    methods: {},\r\n    mounted() {\r\n        //  Check if user has activated his camera\r\n        const checkCameraIsActivated = setInterval(() => {\r\n            navigator.getMedia =\r\n                navigator.getUserMedia ||\r\n                navigator.webkitGetUserMedia ||\r\n                navigator.mozGetUserMedia ||\r\n                navigator.msGetUserMedia\r\n\r\n            navigator.getMedia(\r\n                { video: true },\r\n                () => {\r\n                    if (\r\n                        this.$props.roomState.currentStep.activatesCam === true\r\n                    ) {\r\n                        // Start tracking\r\n                        console.log(\"we can start tracking\")\r\n                        this.$data.camIsActive = true\r\n                        clearInterval(checkCameraIsActivated)\r\n                    }\r\n                },\r\n                function() {\r\n                    console.error(\"webcam is not available\")\r\n                }\r\n            )\r\n        }, 500)\r\n\r\n        // bus.$emit(\"setRoomState\", {currentStep: {name:'NEXT'}})\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/config/styles.scss\";\r\n\r\n.tutoInteractif {\r\n    .camDetection {\r\n        transition: opacity 0.5s ease-in;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        text-align: center;\r\n        max-width: 300px;\r\n        margin: 0 auto;\r\n        position: relative;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n\r\n        &.camIsActive {\r\n            opacity: 0;\r\n        }\r\n\r\n        img {\r\n            margin: 30px 0;\r\n        }\r\n        p:last-of-type {\r\n            font-weight: bold;\r\n        }\r\n    }\r\n\r\n    .tutoExplanation {\r\n        transition: opacity 0.5s 0.5s ease-in;\r\n        opacity: 0;\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n\r\n        &.camIsActive {\r\n            opacity: 1;\r\n        }\r\n\r\n        p {\r\n            text-align: center;\r\n        }\r\n\r\n        .explanationContainer {\r\n            display: flex;\r\n            margin-top: 100px;\r\n            justify-content: center;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n\r\n            video {\r\n                width: 800px;\r\n                height: 535px;\r\n                // filter: grayscale(100%);\r\n            }\r\n\r\n            p {\r\n                font-weight: bold;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./tutoInteractif.vue?vue&type=template&id=6dc50fc4&scoped=true&\"\nimport script from \"./tutoInteractif.vue?vue&type=script&lang=js&\"\nexport * from \"./tutoInteractif.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tutoInteractif.vue?vue&type=style&index=0&id=6dc50fc4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dc50fc4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n    JE SUIS LA PAGE EXPERIENCE\\n    \"),_c('TrackerVideo',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.uiDatas.isDebugMode),expression:\"this.uiDatas.isDebugMode\"}],attrs:{\"hasStarted\":_vm.camIsActive}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        JE SUIS LA PAGE EXPERIENCE\r\n        <TrackerVideo :hasStarted=\"camIsActive\" v-show=\"this.uiDatas.isDebugMode\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport TrackerVideo from \"@/components/TrackerVideo.vue\"\r\n\r\nexport default {\r\n    name: \"experience\",\r\n    components: { TrackerVideo },\r\n    props: {\r\n        roomState: Object\r\n    },\r\n    data: () => ({\r\n        uiDatas: {\r\n            isDebugMode: true\r\n        },\r\n        camIsActive: true\r\n    }),\r\n    props: {\r\n        roomId: String,\r\n        isMobile: Boolean,\r\n        users: Array,\r\n        roomState: Object\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/config/styles.scss\";\r\n\r\ndiv {\r\n    color: #fff;\r\n}\r\n\r\nvideo {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    opacity: 0;\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./experience.vue?vue&type=template&id=74316a3f&scoped=true&\"\nimport script from \"./experience.vue?vue&type=script&lang=js&\"\nexport * from \"./experience.vue?vue&type=script&lang=js&\"\nimport style0 from \"./experience.vue?vue&type=style&index=0&id=74316a3f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74316a3f\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport Router from \"vue-router\";\r\nimport home from \"./views/home.vue\";\r\nimport room from \"./views/room.vue\";\r\nimport selectionPersos from \"./views/selectionPersos.vue\";\r\nimport dioramas from \"./views/dioramas.vue\";\r\nimport tutoInteractif from \"./views/tutoInteractif.vue\";\r\nimport experience from \"./views/experience.vue\";\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n  mode: \"history\",\r\n  routes: [\r\n    {\r\n      path: \"/\",\r\n      name: \"home\",\r\n      component: home\r\n    },\r\n    {\r\n      path: \"/room\",\r\n      name: \"room\",\r\n      component: room\r\n    },\r\n    {\r\n      path: \"/selection-persos\",\r\n      name: \"selectionPersos\",\r\n      component: selectionPersos\r\n    },\r\n    {\r\n      path: \"/dioramas\",\r\n      name: \"dioramas\",\r\n      component: dioramas\r\n    },\r\n    {\r\n      path: \"/tuto-interactif\",\r\n      name: \"tutoInteractif\",\r\n      component: tutoInteractif\r\n    },\r\n    {\r\n      path: \"/xp\",\r\n      name: \"experience\",\r\n      component: experience\r\n    }\r\n  ]\r\n});\r\n","import Vue from \"vue\"\r\nimport App from \"./App.vue\"\r\nimport router from \"./router\"\r\n\r\nVue.config.productionTip = false\r\n\r\nexport const bus = new Vue()\r\nexport const threeBus = new Vue()\r\n\r\nnew Vue({\r\n    router,\r\n    render: h => h(App)\r\n}).$mount(\"#app\")\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"white\":\"#fff\",\"black\":\"#000000\",\"grey\":\"#e3e3e3\",\"cyan\":\"#00ffff\",\"pink\":\"#ff00ff\",\"blue\":\"#0000ff\",\"red\":\"#ff0000\"};","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./room.vue?vue&type=style&index=0&id=1d64e1d5&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./room.vue?vue&type=style&index=0&id=1d64e1d5&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tutoInteractif.vue?vue&type=style&index=0&id=6dc50fc4&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tutoInteractif.vue?vue&type=style&index=0&id=6dc50fc4&scoped=true&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeContainerDsk.vue?vue&type=style&index=0&id=e13846ec&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeContainerDsk.vue?vue&type=style&index=0&id=e13846ec&lang=scss&scoped=true&\"","import io from \"socket.io-client\"\r\nconst port = process.env.PORT || 5000\r\n\r\nvar env = process.env.NODE_ENV\r\nconsole.log(\"port\", port, process, env)\r\n\r\n// DEV\r\nconst ip = \"192.168.1.16\"\r\nexport default io(\"http://\" + ip + \":5000/\")\r\n\r\n// PROD\r\n// const ip = \"pluriel.herokuapp.com\"\r\n// export default io(\"https://\" + ip)\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictoMobile.vue?vue&type=style&index=0&id=4e984c26&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictoMobile.vue?vue&type=style&index=0&id=4e984c26&lang=scss&scoped=true&\"","function toRadians(angle) {\r\n    return angle * (Math.PI / 180);\r\n}\r\n\r\nmodule.exports = [\r\n    {\r\n        name: \"home\",\r\n        hasMobileThreeScene: true, // TODO: remove this and use added/removedThreeGroupsMob instead in SceneManagerMob\r\n        fogDist: { near: 0, far: 120 }, // TODO: fogDist is not used yet\r\n        // addedThreeGroupsDsk: [\r\n        //     // TODO: delay and time times are not used yet\r\n        //     { asset: \"nuages\", delay: 0, time: 0 },\r\n        //     // TODO: scene is not used yet\r\n        //     { asset: \"pinkStone\", delay: 0, time: 2, scene: \"sceneR\" },\r\n        //     { asset: \"cyanStone\", delay: 0, time: 2, scene: \"sceneL\" }\r\n        //     { asset: \"stoneLights\", delay: 0, time: 2, scene: \"sceneL\" }\r\n        //     { asset: \"stoneLights\", delay: 0, time: 2, scene: \"sceneR\" }\r\n        // ],\r\n        // addedThreeGroupsMob: [\r\n        //     { asset: \"nuages\", delay: 0, time: 0 },\r\n        //     { asset: \"pinkStone\", delay: 0, time: 2, scene: \"sceneR\" },\r\n        //     { asset: \"cyanStone\", delay: 0, time: 2, scene: \"sceneL\" }\r\n        // ],\r\n        cameraPos: { x: 0, y: 0, z: 0 },\r\n        canvasAngle: toRadians(0)\r\n    },\r\n\r\n    {\r\n        name: \"room_waiting\",\r\n        removedThreeGroupsDsk: [\r\n            { asset: \"pinkStone\", delay: 0, time: 0.8, scene: \"sceneR\" },\r\n            { asset: \"cyanStone\", delay: 0, time: 0.8, scene: \"sceneL\" },\r\n            { asset: \"stoneLights\", delay: 0, time: 0.8 }\r\n        ],\r\n        removedThreeGroupsMob: [\r\n            { asset: \"pinkStone\", delay: 0, time: 0.8, scene: \"sceneR\" },\r\n            { asset: \"cyanStone\", delay: 0, time: 0.8, scene: \"sceneL\" }\r\n        ]\r\n    },\r\n\r\n    {\r\n        name: \"selection_perso\",\r\n        addedThreeGroupsDsk: [\r\n            { asset: \"lamarRigged\", delay: 0, time: 0.5 },\r\n            { asset: \"zanitRigged\", delay: 0, time: 0.5 },\r\n            { asset: \"lamarSVG\", delay: 0, time: 0.5 },\r\n            { asset: \"zanitSVG\", delay: 0, time: 0.5 },\r\n            // { asset: \"persos\", delay: 0, time: 0.5, scene: \"sceneR\" },\r\n            { asset: \"persosLights\", delay: 0, time: 0.5, scene: \"sceneR\" }\r\n        ],\r\n        addedThreeGroupsMob: [\r\n            { asset: \"lamarRigged\", delay: 0, time: 0.5 },\r\n            { asset: \"zanitRigged\", delay: 0, time: 0.5 }\r\n        ]\r\n    },\r\n\r\n    {\r\n        name: \"dioramas\",\r\n        removedThreeGroupsDsk: [\r\n            { asset: \"lamarRigged\", delay: 0, time: 0.5 },\r\n            { asset: \"zanitRigged\", delay: 0, time: 0.5 },\r\n            { asset: \"lamarSVG\", delay: 0, time: 0.5 },\r\n            { asset: \"zanitSVG\", delay: 0, time: 0.5 },\r\n            { asset: \"persosLights\", delay: 0, time: 0.8 }\r\n        ]\r\n    },\r\n\r\n    {\r\n        name: \"tuto_interactif\",\r\n        activatesCam: true\r\n    },\r\n\r\n    {\r\n        name: \"trial_1_intro\",\r\n        hasMobileThreeScene: true, // TODO: remove this and use added/removedThreeGroupsMob instead in SceneManagerMob\r\n        fogDist: { near: 50, far: 250 }, // TODO: fogDist is not used yet\r\n        addedThreeGroupsDsk: [{ asset: \"islands\", delay: 0, time: 1 }],\r\n        removedThreeGroupsDsk: [\r\n            { asset: \"nuages\", delay: 5, time: 0 },\r\n            { asset: \"nuagesLights\", delay: 2, time: 5 }\r\n        ],\r\n        removedThreeGroupsMob: [{ asset: \"nuages\", delay: 0, time: 3 }],\r\n        cameraTransition: {\r\n            camPos: { path: \"NurbsPath00\", delay: 0, time: 10, easing: null },\r\n            camTarget: { point: \"Target01\", delay: 0.5, time: 6, easing: null }\r\n        },\r\n        canvasAngle: toRadians(0)\r\n    },\r\n\r\n    {\r\n        name: \"trial_1_game\",\r\n        cameraTransition: {\r\n            camPos: { path: \"NurbsPath01\", delay: 0, time: 15, easing: null },\r\n            camTarget: { point: \"Target02\", delay: 0, time: 6, easing: null }\r\n        }\r\n    },\r\n\r\n    {\r\n        name: \"trial_1_end\",\r\n        cameraTransition: {\r\n            camPos: { path: \"NurbsPath02\", delay: 0, time: 20, easing: null }\r\n        }\r\n    }\r\n];\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugUIHelpers.vue?vue&type=style&index=0&id=3e7ac98c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugUIHelpers.vue?vue&type=style&index=0&id=3e7ac98c&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictoDesktop.vue?vue&type=style&index=0&id=36c6d552&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PictoDesktop.vue?vue&type=style&index=0&id=36c6d552&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./experience.vue?vue&type=style&index=0&id=74316a3f&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./experience.vue?vue&type=style&index=0&id=74316a3f&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=991ebc7a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=991ebc7a&scoped=true&lang=scss&\""],"sourceRoot":""}